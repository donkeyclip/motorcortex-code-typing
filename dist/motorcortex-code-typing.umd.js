!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@donkeyclip/motorcortex")):"function"==typeof define&&define.amd?define(["@donkeyclip/motorcortex"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@donkeyclip/motorcortex-code-typing"]=t(e.MotorCortex)}(this,(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var c="#fff";var u,f,d='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',p="\n  .codeflask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+(u="caret-color",f="#000",("undefined"!=typeof CSS?CSS.supports(u,f):"undefined"!=typeof document&&function(e){return(e=e.split("-").filter((function(e){return!!e})).map((function(e){return e[0].toUpperCase()+e.substr(1)})).join(""))[0].toLowerCase()+e.substr(1)}(u)in document.body.style)?c:"#ccc")+";\n    z-index: 1;\n    resize: none;\n    font-family: "+d+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - "+"40px);\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+d+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-size: 13px;\n    line-height: "+"20px;\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - "+"40px);\n    left: "+"40px;\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: "+"20px;\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: "+"20px;\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+"40px;\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: "+"40px;\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+"40px;\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n";function h(e,t,n){var r=t||"codeflask-style",o=n||document.head;if(!e)return!1;if(document.getElementById(r))return!0;var a=document.createElement("style");return a.innerHTML=e,a.id=r,o.appendChild(a),!0}var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function b(e){return String(e).replace(/[&<>"'`=/]/g,(function(e){return g[e]}))}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var m=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof o?new o(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a,i=r.util.type(t);switch(n=n||{},i){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],i={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);n.hasOwnProperty(s)||(i[s]=a[s])}var c=o[e];return o[e]=i,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=i)})),i},DFS:function e(t,n,o,a){a=a||{};var i=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],o||s);var l=t[s],c=r.util.type(l);"Object"!==c||a[i(l)]?"Array"!==c||a[i(l)]||(a[i(l)]=!0,e(l,n,s,a)):(a[i(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o);for(var a,i=o.elements||e.querySelectorAll(o.selector),s=0;a=i[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(n,o,a){for(var i,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(i=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[i]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+i,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+i));var c={element:n,language:i,grammar:s,code:n.textContent},u=function(e){c.highlightedCode=e,r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r.hooks.run("after-highlight",c),r.hooks.run("complete",c),a&&a.call(c.element)};if(r.hooks.run("before-sanity-check",c),c.code)if(r.hooks.run("before-highlight",c),c.grammar)if(o&&e.Worker){var f=new Worker(r.filename);f.onmessage=function(e){u(e.data)},f.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(r.highlight(c.code,c.grammar,c.language));else u(r.util.encode(c.code));else r.hooks.run("complete",c)},highlight:function(e,t,n){var a={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",a),a.tokens=r.tokenize(a.code,a.grammar),r.hooks.run("after-tokenize",a),o.stringify(r.util.encode(a.tokens),a.language)},matchGrammar:function(e,t,n,a,i,s,l){for(var c in n)if(n.hasOwnProperty(c)&&n[c]){if(c==l)return;var u=n[c];u="Array"===r.util.type(u)?u:[u];for(var f=0;f<u.length;++f){var d=u[f],p=d.inside,h=!!d.lookbehind,g=!!d.greedy,b=0,y=d.alias;if(g&&!d.pattern.global){var m=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,m+"g")}d=d.pattern||d;for(var v=a,x=i;v<t.length;x+=t[v].length,++v){var k=t[v];if(t.length>e.length)return;if(!(k instanceof o)){if(g&&v!=t.length-1){if(d.lastIndex=x,!(C=d.exec(e)))break;for(var w=C.index+(h?C[1].length:0),A=C.index+C[0].length,S=v,F=x,E=t.length;S<E&&(F<A||!t[S].type&&!t[S-1].greedy);++S)w>=(F+=t[S].length)&&(++v,x=F);if(t[v]instanceof o)continue;T=S-v,k=e.slice(x,F),C.index-=x}else{d.lastIndex=0;var C=d.exec(k),T=1}if(C){h&&(b=C[1]?C[1].length:0),A=(w=C.index+b)+(C=C[0].slice(b)).length;var j=k.slice(0,w),O=k.slice(A),_=[v,T];j&&(++v,x+=j.length,_.push(j));var P=new o(c,p?r.tokenize(C,p):C,y,C,g);if(_.push(P),O&&_.push(O),Array.prototype.splice.apply(t,_),1!=T&&r.matchGrammar(e,t,n,v,x,!0,c),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],o=t.rest;if(o){for(var a in o)t[a]=o[a];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:o};function o(e,t,n,r,o){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}if(e.Prism=r,o.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return o.stringify(n,t,e)})).join("");var a={type:e.type,content:o.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var i=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,i)}r.hooks.run("wrap",a);var s=Object.keys(a.attributes).map((function(e){return e+'="'+(a.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+(s?" "+s:"")+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,i=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),i&&e.close()}),!1),r):r;var a=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return a&&(r.filename=a.src,r.manual||a.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),void 0!==y&&(y.Prism=t),t.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",a)}}),t.languages.xml=t.languages.extend("markup",{}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}}}),t.languages.markup&&t.languages.markup.tag.addInlined("script","javascript"),t.languages.js=t.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var n={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach((function(e){if(!e.hasAttribute("data-src-loaded")){for(var r,o=e.getAttribute("data-src"),a=e,i=/\blang(?:uage)?-([\w-]+)\b/i;a&&!i.test(a.className);)a=a.parentNode;if(a&&(r=(e.className.match(i)||[,""])[1]),!r){var s=(o.match(/\.(\w+)$/)||[,""])[1];r=n[s]||s}var l=document.createElement("code");l.className="language-"+r,e.textContent="",l.textContent="Loading…",e.appendChild(l);var c=new XMLHttpRequest;c.open("GET",o,!0),c.onreadystatechange=function(){4==c.readyState&&(c.status<400&&c.responseText?(l.textContent=c.responseText,t.highlightElement(l),e.setAttribute("data-src-loaded","")):c.status>=400?l.textContent="✖ Error "+c.status+" while fetching file: "+c.statusText:l.textContent="✖ Error: File does not exist or is empty")},c.send(null)}})),t.plugins.toolbar&&t.plugins.toolbar.registerButton("download-file",(function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),r=document.createElement("a");return r.textContent=t.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))})),v=function(e,t){if(!e)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!t)throw Error("CodeFlask expects an object containing options as second parameter");if(e.nodeType)this.editorRoot=e;else{var n=document.querySelector(e);n&&(this.editorRoot=n)}this.opts=t,this.startEditor()};v.prototype.startEditor=function(){if(!h(p,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},v.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},v.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},v.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},v.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},v.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},v.prototype.createElement=function(e,t){var n=document.createElement(e);return t.appendChild(n),n},v.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&h("\n.codeflask {\n  background: #fff;\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n","theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},v.prototype.updateLineNumbersCount=function(){for(var e="",t=1;t<=this.lineNumber;t++)e=e+'<span class="codeflask__lines__line">'+t+"</span>";this.elLineNumbers.innerHTML=e},v.prototype.listenTextarea=function(){var e=this;this.elTextarea.addEventListener("input",(function(t){e.code=t.target.value,e.elCode.innerHTML=b(t.target.value),e.highlight(),setTimeout((function(){e.runUpdate(),e.setLineNumber()}),1)})),this.elTextarea.addEventListener("keydown",(function(t){e.handleTabs(t),e.handleSelfClosingCharacters(t),e.handleNewLineIndentation(t)})),this.elTextarea.addEventListener("scroll",(function(t){e.elPre.style.transform="translate3d(-"+t.target.scrollLeft+"px, -"+t.target.scrollTop+"px, 0)",e.elLineNumbers&&(e.elLineNumbers.style.transform="translate3d(0, -"+t.target.scrollTop+"px, 0)")}))},v.prototype.handleTabs=function(e){if(this.opts.handleTabs){if(9!==e.keyCode)return;e.preventDefault();var t=this.elTextarea,n=t.selectionDirection,r=t.selectionStart,o=t.selectionEnd,a=t.value,i=a.substr(0,r),s=a.substring(r,o),l=a.substring(o),c=" ".repeat(this.opts.tabSize);if(r!==o&&s.length>=c.length){var u=r-i.split("\n").pop().length,f=c.length,d=c.length;e.shiftKey?(a.substr(u,c.length)===c?(f=-f,u>r?(s=s.substring(0,u)+s.substring(u+c.length),d=0):u===r?(f=0,d=0,s=s.substring(c.length)):(d=-d,i=i.substring(0,u)+i.substring(u+c.length))):(f=0,d=0),s=s.replace(new RegExp("\n"+c.split("").join("\\"),"g"),"\n")):(i=i.substr(0,u)+c+i.substring(u,r),s=s.replace(/\n/g,"\n"+c)),t.value=i+s+l,t.selectionStart=r+f,t.selectionEnd=r+s.length+d,t.selectionDirection=n}else t.value=i+c+l,t.selectionStart=r+c.length,t.selectionEnd=r+c.length;var p=t.value;this.updateCode(p),this.elTextarea.selectionEnd=o+this.opts.tabSize}},v.prototype.handleSelfClosingCharacters=function(e){if(this.opts.handleSelfClosingCharacters){var t=e.key;if(["(","[","{","<","'",'"'].includes(t)||[")","]","}",">","'",'"'].includes(t))switch(t){case"(":case")":case"[":case"]":case"{":case"}":case"<":case">":case"'":case'"':this.closeCharacter(t)}}},v.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},v.prototype.handleNewLineIndentation=function(e){if(this.opts.handleNewLineIndentation&&13===e.keyCode){e.preventDefault();var t=this.elTextarea,n=t.selectionStart,r=t.selectionEnd,o=t.value,a=o.substr(0,n),i=o.substring(r),s=o.lastIndexOf("\n",n-1),l=s+o.slice(s+1).search(/[^ ]|$/),c=l>s?l-s:0,u=a+"\n"+" ".repeat(c)+i;t.value=u,t.selectionStart=n+c+1,t.selectionEnd=n+c+1,this.updateCode(t.value)}},v.prototype.closeCharacter=function(e){var t=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd;if(this.skipCloseChar(e)){var r=this.code.substr(n,1)===e,o=r?n+1:n,a=!r&&["'",'"'].includes(e)?e:"",i=""+this.code.substring(0,t)+a+this.code.substring(o);this.updateCode(i),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var s=e;switch(e){case"(":s=String.fromCharCode(e.charCodeAt()+1);break;case"<":case"{":case"[":s=String.fromCharCode(e.charCodeAt()+2)}var l=this.code.substring(t,n),c=""+this.code.substring(0,t)+l+s+this.code.substring(n);this.updateCode(c)}this.elTextarea.selectionEnd=t},v.prototype.skipCloseChar=function(e){var t=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd,r=Math.abs(n-t)>0;return[")","}","]",">"].includes(e)||["'",'"'].includes(e)&&!r},v.prototype.updateCode=function(e){this.code=e,this.elTextarea.value=e,this.elCode.innerHTML=b(e),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},v.prototype.updateLanguage=function(e){var t=this.opts.language;this.elCode.classList.remove("language-"+t),this.elCode.classList.add("language-"+e),this.opts.language=e,this.highlight()},v.prototype.addLanguage=function(e,t){m.languages[e]=t},v.prototype.populateDefault=function(){this.updateCode(this.code)},v.prototype.highlight=function(){m.highlightElement(this.elCode,!1)},v.prototype.onUpdate=function(e){if(e&&"[object Function]"!=={}.toString.call(e))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=e},v.prototype.getCode=function(){return this.code},v.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},v.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},v.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k=function(e){return e&&e.Math==Math&&e},w=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof x&&x)||function(){return this}()||Function("return this")(),A={},S=function(e){try{return!!e()}catch(e){return!0}},F=!S((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),E=!S((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),C=E,T=Function.prototype.call,j=C?T.bind(T):function(){return T.apply(T,arguments)},O={},_={}.propertyIsEnumerable,P=Object.getOwnPropertyDescriptor,L=P&&!_.call({1:2},1);O.f=L?function(e){var t=P(this,e);return!!t&&t.enumerable}:_;var N,I,R=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},M=E,z=Function.prototype,$=z.bind,D=z.call,B=M&&$.bind(D,D),W=M?function(e){return e&&B(e)}:function(e){return e&&function(){return D.apply(e,arguments)}},U=W,G=U({}.toString),H=U("".slice),q=function(e){return H(G(e),8,-1)},Z=W,K=S,V=q,Y=w.Object,X=Z("".split),J=K((function(){return!Y("z").propertyIsEnumerable(0)}))?function(e){return"String"==V(e)?X(e,""):Y(e)}:Y,Q=w.TypeError,ee=function(e){if(null==e)throw Q("Can't call method on "+e);return e},te=J,ne=ee,re=function(e){return te(ne(e))},oe=function(e){return"function"==typeof e},ae=oe,ie=function(e){return"object"==typeof e?null!==e:ae(e)},se=w,le=oe,ce=function(e){return le(e)?e:void 0},ue=function(e,t){return arguments.length<2?ce(se[e]):se[e]&&se[e][t]},fe=W({}.isPrototypeOf),de=w,pe=ue("navigator","userAgent")||"",he=de.process,ge=de.Deno,be=he&&he.versions||ge&&ge.version,ye=be&&be.v8;ye&&(I=(N=ye.split("."))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!I&&pe&&(!(N=pe.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=pe.match(/Chrome\/(\d+)/))&&(I=+N[1]);var me=I,ve=me,xe=S,ke=!!Object.getOwnPropertySymbols&&!xe((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ve&&ve<41})),we=ke&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ae=ue,Se=oe,Fe=fe,Ee=we,Ce=w.Object,Te=Ee?function(e){return"symbol"==typeof e}:function(e){var t=Ae("Symbol");return Se(t)&&Fe(t.prototype,Ce(e))},je=w.String,Oe=function(e){try{return je(e)}catch(e){return"Object"}},_e=oe,Pe=Oe,Le=w.TypeError,Ne=function(e){if(_e(e))return e;throw Le(Pe(e)+" is not a function")},Ie=function(e,t){var n=e[t];return null==n?void 0:Ne(n)},Re=j,Me=oe,ze=ie,$e=w.TypeError,De={exports:{}},Be=w,We=Object.defineProperty,Ue=function(e,t){try{We(Be,e,{value:t,configurable:!0,writable:!0})}catch(n){Be[e]=t}return t},Ge=Ue,He="__core-js_shared__",qe=w[He]||Ge(He,{}),Ze=qe;(De.exports=function(e,t){return Ze[e]||(Ze[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ke=ee,Ve=w.Object,Ye=function(e){return Ve(Ke(e))},Xe=Ye,Je=W({}.hasOwnProperty),Qe=Object.hasOwn||function(e,t){return Je(Xe(e),t)},et=W,tt=0,nt=Math.random(),rt=et(1..toString),ot=function(e){return"Symbol("+(void 0===e?"":e)+")_"+rt(++tt+nt,36)},at=w,it=De.exports,st=Qe,lt=ot,ct=ke,ut=we,ft=it("wks"),dt=at.Symbol,pt=dt&&dt.for,ht=ut?dt:dt&&dt.withoutSetter||lt,gt=function(e){if(!st(ft,e)||!ct&&"string"!=typeof ft[e]){var t="Symbol."+e;ct&&st(dt,e)?ft[e]=dt[e]:ft[e]=ut&&pt?pt(t):ht(t)}return ft[e]},bt=j,yt=ie,mt=Te,vt=Ie,xt=function(e,t){var n,r;if("string"===t&&Me(n=e.toString)&&!ze(r=Re(n,e)))return r;if(Me(n=e.valueOf)&&!ze(r=Re(n,e)))return r;if("string"!==t&&Me(n=e.toString)&&!ze(r=Re(n,e)))return r;throw $e("Can't convert object to primitive value")},kt=gt,wt=w.TypeError,At=kt("toPrimitive"),St=function(e,t){if(!yt(e)||mt(e))return e;var n,r=vt(e,At);if(r){if(void 0===t&&(t="default"),n=bt(r,e,t),!yt(n)||mt(n))return n;throw wt("Can't convert object to primitive value")}return void 0===t&&(t="number"),xt(e,t)},Ft=Te,Et=function(e){var t=St(e,"string");return Ft(t)?t:t+""},Ct=ie,Tt=w.document,jt=Ct(Tt)&&Ct(Tt.createElement),Ot=function(e){return jt?Tt.createElement(e):{}},_t=Ot,Pt=!F&&!S((function(){return 7!=Object.defineProperty(_t("div"),"a",{get:function(){return 7}}).a})),Lt=F,Nt=j,It=O,Rt=R,Mt=re,zt=Et,$t=Qe,Dt=Pt,Bt=Object.getOwnPropertyDescriptor;A.f=Lt?Bt:function(e,t){if(e=Mt(e),t=zt(t),Dt)try{return Bt(e,t)}catch(e){}if($t(e,t))return Rt(!Nt(It.f,e,t),e[t])};var Wt={},Ut=F&&S((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Gt=w,Ht=ie,qt=Gt.String,Zt=Gt.TypeError,Kt=function(e){if(Ht(e))return e;throw Zt(qt(e)+" is not an object")},Vt=F,Yt=Pt,Xt=Ut,Jt=Kt,Qt=Et,en=w.TypeError,tn=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,rn="enumerable",on="configurable",an="writable";Wt.f=Vt?Xt?function(e,t,n){if(Jt(e),t=Qt(t),Jt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&an in n&&!n.writable){var r=nn(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:on in n?n.configurable:r.configurable,enumerable:rn in n?n.enumerable:r.enumerable,writable:!1})}return tn(e,t,n)}:tn:function(e,t,n){if(Jt(e),t=Qt(t),Jt(n),Yt)try{return tn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw en("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var sn=Wt,ln=R,cn=F?function(e,t,n){return sn.f(e,t,ln(1,n))}:function(e,t,n){return e[t]=n,e},un={exports:{}},fn=oe,dn=qe,pn=W(Function.toString);fn(dn.inspectSource)||(dn.inspectSource=function(e){return pn(e)});var hn,gn,bn,yn=dn.inspectSource,mn=oe,vn=yn,xn=w.WeakMap,kn=mn(xn)&&/native code/.test(vn(xn)),wn=De.exports,An=ot,Sn=wn("keys"),Fn=function(e){return Sn[e]||(Sn[e]=An(e))},En={},Cn=kn,Tn=w,jn=W,On=ie,_n=cn,Pn=Qe,Ln=qe,Nn=Fn,In=En,Rn="Object already initialized",Mn=Tn.TypeError,zn=Tn.WeakMap;if(Cn||Ln.state){var $n=Ln.state||(Ln.state=new zn),Dn=jn($n.get),Bn=jn($n.has),Wn=jn($n.set);hn=function(e,t){if(Bn($n,e))throw new Mn(Rn);return t.facade=e,Wn($n,e,t),t},gn=function(e){return Dn($n,e)||{}},bn=function(e){return Bn($n,e)}}else{var Un=Nn("state");In[Un]=!0,hn=function(e,t){if(Pn(e,Un))throw new Mn(Rn);return t.facade=e,_n(e,Un,t),t},gn=function(e){return Pn(e,Un)?e[Un]:{}},bn=function(e){return Pn(e,Un)}}var Gn={set:hn,get:gn,has:bn,enforce:function(e){return bn(e)?gn(e):hn(e,{})},getterFor:function(e){return function(t){var n;if(!On(t)||(n=gn(t)).type!==e)throw Mn("Incompatible receiver, "+e+" required");return n}}},Hn=F,qn=Qe,Zn=Function.prototype,Kn=Hn&&Object.getOwnPropertyDescriptor,Vn=qn(Zn,"name"),Yn=Vn&&"something"===function(){}.name,Xn=Vn&&(!Hn||Hn&&Kn(Zn,"name").configurable),Jn=w,Qn=oe,er=Qe,tr=cn,nr=Ue,rr=yn,or={EXISTS:Vn,PROPER:Yn,CONFIGURABLE:Xn}.CONFIGURABLE,ar=Gn.get,ir=Gn.enforce,sr=String(String).split("String");(un.exports=function(e,t,n,r){var o,a=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,l=r&&void 0!==r.name?r.name:t;Qn(n)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!er(n,"name")||or&&n.name!==l)&&tr(n,"name",l),(o=ir(n)).source||(o.source=sr.join("string"==typeof l?l:""))),e!==Jn?(a?!s&&e[t]&&(i=!0):delete e[t],i?e[t]=n:tr(e,t,n)):i?e[t]=n:nr(t,n)})(Function.prototype,"toString",(function(){return Qn(this)&&ar(this).source||rr(this)}));var lr={},cr=Math.ceil,ur=Math.floor,fr=function(e){var t=+e;return t!=t||0===t?0:(t>0?ur:cr)(t)},dr=fr,pr=Math.max,hr=Math.min,gr=function(e,t){var n=dr(e);return n<0?pr(n+t,0):hr(n,t)},br=fr,yr=Math.min,mr=function(e){return e>0?yr(br(e),9007199254740991):0},vr=mr,xr=function(e){return vr(e.length)},kr=re,wr=gr,Ar=xr,Sr=function(e){return function(t,n,r){var o,a=kr(t),i=Ar(a),s=wr(r,i);if(e&&n!=n){for(;i>s;)if((o=a[s++])!=o)return!0}else for(;i>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},Fr={includes:Sr(!0),indexOf:Sr(!1)},Er=Qe,Cr=re,Tr=Fr.indexOf,jr=En,Or=W([].push),_r=function(e,t){var n,r=Cr(e),o=0,a=[];for(n in r)!Er(jr,n)&&Er(r,n)&&Or(a,n);for(;t.length>o;)Er(r,n=t[o++])&&(~Tr(a,n)||Or(a,n));return a},Pr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lr=_r,Nr=Pr.concat("length","prototype");lr.f=Object.getOwnPropertyNames||function(e){return Lr(e,Nr)};var Ir={};Ir.f=Object.getOwnPropertySymbols;var Rr=ue,Mr=lr,zr=Ir,$r=Kt,Dr=W([].concat),Br=Rr("Reflect","ownKeys")||function(e){var t=Mr.f($r(e)),n=zr.f;return n?Dr(t,n(e)):t},Wr=Qe,Ur=Br,Gr=A,Hr=Wt,qr=S,Zr=oe,Kr=/#|\.prototype\./,Vr=function(e,t){var n=Xr[Yr(e)];return n==Qr||n!=Jr&&(Zr(t)?qr(t):!!t)},Yr=Vr.normalize=function(e){return String(e).replace(Kr,".").toLowerCase()},Xr=Vr.data={},Jr=Vr.NATIVE="N",Qr=Vr.POLYFILL="P",eo=Vr,to=w,no=A.f,ro=cn,oo=un.exports,ao=Ue,io=function(e,t,n){for(var r=Ur(t),o=Hr.f,a=Gr.f,i=0;i<r.length;i++){var s=r[i];Wr(e,s)||n&&Wr(n,s)||o(e,s,a(t,s))}},so=eo,lo=function(e,t){var n,r,o,a,i,s=e.target,l=e.global,c=e.stat;if(n=l?to:c?to[s]||ao(s,{}):(to[s]||{}).prototype)for(r in t){if(a=t[r],o=e.noTargetGet?(i=no(n,r))&&i.value:n[r],!so(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;io(a,o)}(e.sham||o&&o.sham)&&ro(a,"sham",!0),oo(n,r,a,e)}},co=q,uo=Array.isArray||function(e){return"Array"==co(e)},fo=Et,po=Wt,ho=R,go=function(e,t,n){var r=fo(t);r in e?po.f(e,r,ho(0,n)):e[r]=n},bo={};bo[gt("toStringTag")]="z";var yo=w,mo="[object z]"===String(bo),vo=oe,xo=q,ko=gt("toStringTag"),wo=yo.Object,Ao="Arguments"==xo(function(){return arguments}()),So=mo?xo:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=wo(e),ko))?n:Ao?xo(t):"Object"==(r=xo(t))&&vo(t.callee)?"Arguments":r},Fo=W,Eo=S,Co=oe,To=So,jo=yn,Oo=function(){},_o=[],Po=ue("Reflect","construct"),Lo=/^\s*(?:class|function)\b/,No=Fo(Lo.exec),Io=!Lo.exec(Oo),Ro=function(e){if(!Co(e))return!1;try{return Po(Oo,_o,e),!0}catch(e){return!1}},Mo=function(e){if(!Co(e))return!1;switch(To(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Io||!!No(Lo,jo(e))}catch(e){return!0}};Mo.sham=!0;var zo=!Po||Eo((function(){var e;return Ro(Ro.call)||!Ro(Object)||!Ro((function(){e=!0}))||e}))?Mo:Ro,$o=w,Do=uo,Bo=zo,Wo=ie,Uo=gt("species"),Go=$o.Array,Ho=function(e){var t;return Do(e)&&(t=e.constructor,(Bo(t)&&(t===Go||Do(t.prototype))||Wo(t)&&null===(t=t[Uo]))&&(t=void 0)),void 0===t?Go:t},qo=function(e,t){return new(Ho(e))(0===t?0:t)},Zo=S,Ko=me,Vo=gt("species"),Yo=function(e){return Ko>=51||!Zo((function(){var t=[];return(t.constructor={})[Vo]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Xo=lo,Jo=w,Qo=S,ea=uo,ta=ie,na=Ye,ra=xr,oa=go,aa=qo,ia=Yo,sa=me,la=gt("isConcatSpreadable"),ca=9007199254740991,ua="Maximum allowed index exceeded",fa=Jo.TypeError,da=sa>=51||!Qo((function(){var e=[];return e[la]=!1,e.concat()[0]!==e})),pa=ia("concat"),ha=function(e){if(!ta(e))return!1;var t=e[la];return void 0!==t?!!t:ea(e)};Xo({target:"Array",proto:!0,forced:!da||!pa},{concat:function(e){var t,n,r,o,a,i=na(this),s=aa(i,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(ha(a=-1===t?i:arguments[t])){if(l+(o=ra(a))>ca)throw fa(ua);for(n=0;n<o;n++,l++)n in a&&oa(s,l,a[n])}else{if(l>=ca)throw fa(ua);oa(s,l++,a)}return s.length=l,s}});var ga="#1d1f21",ba="\n.codeflask {\n  font-size: ".concat("13px",";\n  line-height ").concat("20px",";\n  background: ").concat(ga,";\n  color: #61afef;\n}\n\n.codeflask .token.punctuation {\n  color: #ffffff;\n}\n\n.codeflask .token.keyword {\n  color: #c397d8;\n}\n\n.codeflask .token.operator {\n  color: #c397d8;\n}\n\n.codeflask .token.parameter {\n  color: #e78c45;\n}\n\n.codeflask .token.string {\n  color: #f0c674;\n}\n\n.codeflask .token.comment {\n  color: #74715e;\n  font-style: italic;\n}\n\n.codeflask .token.function {\n  color: #b9ca4a;\n}\n\n.codeflask .token.boolean {\n  color: orange;\n}\n\n.codeflask .token.number {\n  color: #e04164;\n}\n\n.codeflask .token.selector {\n  color: #b294bb;\n}\n\n.codeflask .token.property {\n  color: #b294bb;\n}\n\n.codeflask .token.tag {\n  color: #b294bb;\n}\n\n.codeflask .token.attr-value {\n  color: #b294bb;\n}\n\n.codeflask__textarea{\n  caret-color: whitesmoke !important;\n  color: ").concat(ga," !important;\n}\n\n.codeflask__lines{\n  background: #444;\n  color: #aaa;\n}\n"),ya=function(e){o(a,e);var n=l(a);function a(){return t(this,a),n.apply(this,arguments)}return r(a,[{key:"html",get:function(){return'<div id="code-editor"></div>'}},{key:"css",get:function(){var e="\n      #code-editor{\n        width: 100%;\n        height: 100%;\n      }\n    ";!0===this.attrs.darkTheme&&(e+="".concat(ba));return e}},{key:"onAfterRender",value:function(){var e=new v(this.context.getElements("#code-editor")[0],{language:"js",lineNumbers:!0===this.attrs.lineNumbers,defaultTheme:!0!==this.attrs.darkTheme,readonly:!0===this.attrs.readOnly}),t=document.getElementById("codeflask-style");if(this.context.rootElement.appendChild(t.cloneNode(!0)),!0!==this.attrs.darkTheme){var n=document.getElementById("theme-default");this.context.rootElement.appendChild(n.cloneNode(!0))}this.setCustomEntity("editor",{flask:e,textarea:this.context.getElements("#code-editor > div > textarea")[0]})}}]),a}(e.BrowserClip),ma=So,va=w.String,xa=function(e){if("Symbol"===ma(e))throw TypeError("Cannot convert a Symbol value to a string");return va(e)},ka=Kt,wa=S,Aa=w.RegExp,Sa=wa((function(){var e=Aa("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Fa=Sa||wa((function(){return!Aa("a","y").sticky})),Ea={BROKEN_CARET:Sa||wa((function(){var e=Aa("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Fa,UNSUPPORTED_Y:Sa},Ca={},Ta=_r,ja=Pr,Oa=Object.keys||function(e){return Ta(e,ja)},_a=F,Pa=Ut,La=Wt,Na=Kt,Ia=re,Ra=Oa;Ca.f=_a&&!Pa?Object.defineProperties:function(e,t){Na(e);for(var n,r=Ia(t),o=Ra(t),a=o.length,i=0;a>i;)La.f(e,n=o[i++],r[n]);return e};var Ma,za=ue("document","documentElement"),$a=Kt,Da=Ca,Ba=Pr,Wa=En,Ua=za,Ga=Ot,Ha=Fn("IE_PROTO"),qa=function(){},Za=function(e){return"<script>"+e+"</"+"script>"},Ka=function(e){e.write(Za("")),e.close();var t=e.parentWindow.Object;return e=null,t},Va=function(){try{Ma=new ActiveXObject("htmlfile")}catch(e){}var e,t;Va="undefined"!=typeof document?document.domain&&Ma?Ka(Ma):((t=Ga("iframe")).style.display="none",Ua.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Za("document.F=Object")),e.close(),e.F):Ka(Ma);for(var n=Ba.length;n--;)delete Va.prototype[Ba[n]];return Va()};Wa[Ha]=!0;var Ya,Xa,Ja=Object.create||function(e,t){var n;return null!==e?(qa.prototype=$a(e),n=new qa,qa.prototype=null,n[Ha]=e):n=Va(),void 0===t?n:Da.f(n,t)},Qa=S,ei=w.RegExp,ti=Qa((function(){var e=ei(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),ni=S,ri=w.RegExp,oi=ni((function(){var e=ri("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),ai=j,ii=W,si=xa,li=function(){var e=ka(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},ci=Ea,ui=De.exports,fi=Ja,di=Gn.get,pi=ti,hi=oi,gi=ui("native-string-replace",String.prototype.replace),bi=RegExp.prototype.exec,yi=bi,mi=ii("".charAt),vi=ii("".indexOf),xi=ii("".replace),ki=ii("".slice),wi=(Xa=/b*/g,ai(bi,Ya=/a/,"a"),ai(bi,Xa,"a"),0!==Ya.lastIndex||0!==Xa.lastIndex),Ai=ci.BROKEN_CARET,Si=void 0!==/()??/.exec("")[1];(wi||Si||Ai||pi||hi)&&(yi=function(e){var t,n,r,o,a,i,s,l=this,c=di(l),u=si(e),f=c.raw;if(f)return f.lastIndex=l.lastIndex,t=ai(yi,f,u),l.lastIndex=f.lastIndex,t;var d=c.groups,p=Ai&&l.sticky,h=ai(li,l),g=l.source,b=0,y=u;if(p&&(h=xi(h,"y",""),-1===vi(h,"g")&&(h+="g"),y=ki(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==mi(u,l.lastIndex-1))&&(g="(?: "+g+")",y=" "+y,b++),n=new RegExp("^(?:"+g+")",h)),Si&&(n=new RegExp("^"+g+"$(?!\\s)",h)),wi&&(r=l.lastIndex),o=ai(bi,p?n:l,y),p?o?(o.input=ki(o.input,b),o[0]=ki(o[0],b),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:wi&&o&&(l.lastIndex=l.global?o.index+o[0].length:r),Si&&o&&o.length>1&&ai(gi,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&d)for(o.groups=i=fi(null),a=0;a<d.length;a++)i[(s=d[a])[0]]=o[s[1]];return o});var Fi=yi;lo({target:"RegExp",proto:!0,forced:/./.exec!==Fi},{exec:Fi});var Ei=E,Ci=Function.prototype,Ti=Ci.apply,ji=Ci.call,Oi="object"==typeof Reflect&&Reflect.apply||(Ei?ji.bind(Ti):function(){return ji.apply(Ti,arguments)}),_i=W,Pi=un.exports,Li=Fi,Ni=S,Ii=gt,Ri=cn,Mi=Ii("species"),zi=RegExp.prototype,$i=ie,Di=q,Bi=gt("match"),Wi=zo,Ui=Oe,Gi=w.TypeError,Hi=Kt,qi=function(e){if(Wi(e))return e;throw Gi(Ui(e)+" is not a constructor")},Zi=gt("species"),Ki=W,Vi=fr,Yi=xa,Xi=ee,Ji=Ki("".charAt),Qi=Ki("".charCodeAt),es=Ki("".slice),ts=function(e){return function(t,n){var r,o,a=Yi(Xi(t)),i=Vi(n),s=a.length;return i<0||i>=s?e?"":void 0:(r=Qi(a,i))<55296||r>56319||i+1===s||(o=Qi(a,i+1))<56320||o>57343?e?Ji(a,i):r:e?es(a,i,i+2):o-56320+(r-55296<<10)+65536}},ns={codeAt:ts(!1),charAt:ts(!0)}.charAt,rs=gr,os=xr,as=go,is=w.Array,ss=Math.max,ls=j,cs=Kt,us=oe,fs=q,ds=Fi,ps=w.TypeError,hs=Oi,gs=j,bs=W,ys=function(e,t,n,r){var o=Ii(e),a=!Ni((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),i=a&&!Ni((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Mi]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!i||n){var s=_i(/./[o]),l=t(o,""[e],(function(e,t,n,r,o){var i=_i(e),l=t.exec;return l===Li||l===zi.exec?a&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:i(n,t,r)}:{done:!1}}));Pi(String.prototype,e,l[0]),Pi(zi,o,l[1])}r&&Ri(zi[o],"sham",!0)},ms=function(e){var t;return $i(e)&&(void 0!==(t=e[Bi])?!!t:"RegExp"==Di(e))},vs=Kt,xs=ee,ks=function(e,t){var n,r=Hi(e).constructor;return void 0===r||null==(n=Hi(r)[Zi])?t:qi(n)},ws=function(e,t,n){return t+(n?ns(e,t).length:1)},As=mr,Ss=xa,Fs=Ie,Es=function(e,t,n){for(var r=os(e),o=rs(t,r),a=rs(void 0===n?r:n,r),i=is(ss(a-o,0)),s=0;o<a;o++,s++)as(i,s,e[o]);return i.length=s,i},Cs=function(e,t){var n=e.exec;if(us(n)){var r=ls(n,e,t);return null!==r&&cs(r),r}if("RegExp"===fs(e))return ls(ds,e,t);throw ps("RegExp#exec called on incompatible receiver")},Ts=Fi,js=S,Os=Ea.UNSUPPORTED_Y,_s=4294967295,Ps=Math.min,Ls=[].push,Ns=bs(/./.exec),Is=bs(Ls),Rs=bs("".slice),Ms=!js((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));ys("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=Ss(xs(this)),o=void 0===n?_s:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!ms(e))return gs(t,r,e,o);for(var a,i,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,f=new RegExp(e.source,c+"g");(a=gs(Ts,f,r))&&!((i=f.lastIndex)>u&&(Is(l,Rs(r,u,a.index)),a.length>1&&a.index<r.length&&hs(Ls,l,Es(a,1)),s=a[0].length,u=i,l.length>=o));)f.lastIndex===a.index&&f.lastIndex++;return u===r.length?!s&&Ns(f,"")||Is(l,""):Is(l,Rs(r,u)),l.length>o?Es(l,0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:gs(t,this,e,n)}:t,[function(t,n){var o=xs(this),a=null==t?void 0:Fs(t,e);return a?gs(a,t,o,n):gs(r,Ss(o),t,n)},function(e,o){var a=vs(this),i=Ss(e),s=n(r,a,i,o,r!==t);if(s.done)return s.value;var l=ks(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Os?"g":"y"),f=new l(Os?"^(?:"+a.source+")":a,u),d=void 0===o?_s:o>>>0;if(0===d)return[];if(0===i.length)return null===Cs(f,i)?[i]:[];for(var p=0,h=0,g=[];h<i.length;){f.lastIndex=Os?0:h;var b,y=Cs(f,Os?Rs(i,h):i);if(null===y||(b=Ps(As(f.lastIndex+(Os?h:0)),i.length))===p)h=ws(i,h,c);else{if(Is(g,Rs(i,p,h)),g.length===d)return g;for(var m=1;m<=y.length-1;m++)if(Is(g,y[m]),g.length===d)return g;h=p=b}}return Is(g,Rs(i,p)),g}]}),!Ms,Os);var zs=W([].slice),$s=lo,Ds=w,Bs=uo,Ws=zo,Us=ie,Gs=gr,Hs=xr,qs=re,Zs=go,Ks=gt,Vs=zs,Ys=Yo("slice"),Xs=Ks("species"),Js=Ds.Array,Qs=Math.max;$s({target:"Array",proto:!0,forced:!Ys},{slice:function(e,t){var n,r,o,a=qs(this),i=Hs(a),s=Gs(e,i),l=Gs(void 0===t?i:t,i);if(Bs(a)&&(n=a.constructor,(Ws(n)&&(n===Js||Bs(n.prototype))||Us(n)&&null===(n=n[Xs]))&&(n=void 0),n===Js||void 0===n))return Vs(a,s,l);for(r=new(void 0===n?Js:n)(Qs(l-s,0)),o=0;s<l;s++,o++)s in a&&Zs(r,o,a[s]);return r.length=o,r}});var el=lo,tl=w,nl=gr,rl=fr,ol=xr,al=Ye,il=qo,sl=go,ll=Yo("splice"),cl=tl.TypeError,ul=Math.max,fl=Math.min,dl=9007199254740991,pl="Maximum allowed length exceeded";el({target:"Array",proto:!0,forced:!ll},{splice:function(e,t){var n,r,o,a,i,s,l=al(this),c=ol(l),u=nl(e,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-u):(n=f-2,r=fl(ul(rl(t),0),c-u)),c+n-r>dl)throw cl(pl);for(o=il(l,r),a=0;a<r;a++)(i=u+a)in l&&sl(o,a,l[i]);if(o.length=r,n<r){for(a=u;a<c-r;a++)s=a+n,(i=a+r)in l?l[s]=l[i]:delete l[s];for(a=c;a>c-r+n;a--)delete l[a-1]}else if(n>r)for(a=c-r;a>u;a--)s=a+n-1,(i=a+r-1)in l?l[s]=l[i]:delete l[s];for(a=0;a<n;a++)l[a+u]=arguments[a+2];return l.length=c-r+n,o}});var hl=S,gl=lo,bl=J,yl=re,ml=function(e,t){var n=[][e];return!!n&&hl((function(){n.call(null,t||function(){return 1},1)}))},vl=W([].join),xl=bl!=Object,kl=ml("join",",");gl({target:"Array",proto:!0,forced:xl||!kl},{join:function(e){return vl(yl(this),void 0===e?",":e)}});var wl=function(e){o(a,e);var n=l(a);function a(){return t(this,a),n.apply(this,arguments)}return r(a,[{key:"onGetContext",value:function(){this.code=this.targetValue.split(/(?!\s+)/),this.latency=this.duration/this.code.length}},{key:"onProgress",value:function(e){var t,n=this.code.slice();t=1===this.getFraction(e)?n:e<this.latency?"":n.splice(0,Math.floor(n.length*this.getFraction(e))),this.element.entity.flask.updateCode(t.join("")),this.element.entity.textarea.focus()}},{key:"getScratchValue",value:function(){return""}}]),a}(e.Effect);return{npm_name:"@donkeyclip/motorcortex-code-typing",version:"1.0.13",incidents:[{exportable:wl,name:"WriteCode",attributesValidationRules:{animatedAttrs:{type:"object",props:{code:"string"}}}}],Clip:{exportable:ya,attributesValidationRules:{darkTheme:{optional:!0,type:"boolean"},lineNumbers:{optional:!0,type:"boolean"},readOnly:{optional:!0,type:"boolean"}}}}}));
