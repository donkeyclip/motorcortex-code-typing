!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@donkeyclip/motorcortex")):"function"==typeof define&&define.amd?define(["@donkeyclip/motorcortex"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@donkeyclip/motorcortex-code-typing"]=t(e.MotorCortex)}(this,(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var c="#fff";var u,f,d='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',p="\n  .codeflask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+(u="caret-color",f="#000",("undefined"!=typeof CSS?CSS.supports(u,f):"undefined"!=typeof document&&function(e){return(e=e.split("-").filter((function(e){return!!e})).map((function(e){return e[0].toUpperCase()+e.substr(1)})).join(""))[0].toLowerCase()+e.substr(1)}(u)in document.body.style)?c:"#ccc")+";\n    z-index: 1;\n    resize: none;\n    font-family: "+d+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - "+"40px);\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+d+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-size: 13px;\n    line-height: "+"20px;\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - "+"40px);\n    left: "+"40px;\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: "+"20px;\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: "+"20px;\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+"40px;\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: "+"40px;\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+"40px;\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n";function h(e,t,n){var r=t||"codeflask-style",o=n||document.head;if(!e)return!1;if(document.getElementById(r))return!0;var a=document.createElement("style");return a.innerHTML=e,a.id=r,o.appendChild(a),!0}var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function b(e){return String(e).replace(/[&<>"'`=/]/g,(function(e){return g[e]}))}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var m=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof o?new o(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a,i=r.util.type(t);switch(n=n||{},i){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],i={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);n.hasOwnProperty(s)||(i[s]=a[s])}var c=o[e];return o[e]=i,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=i)})),i},DFS:function e(t,n,o,a){a=a||{};var i=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],o||s);var l=t[s],c=r.util.type(l);"Object"!==c||a[i(l)]?"Array"!==c||a[i(l)]||(a[i(l)]=!0,e(l,n,s,a)):(a[i(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o);for(var a,i=o.elements||e.querySelectorAll(o.selector),s=0;a=i[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(n,o,a){for(var i,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(i=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[i]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+i,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+i));var c={element:n,language:i,grammar:s,code:n.textContent},u=function(e){c.highlightedCode=e,r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r.hooks.run("after-highlight",c),r.hooks.run("complete",c),a&&a.call(c.element)};if(r.hooks.run("before-sanity-check",c),c.code)if(r.hooks.run("before-highlight",c),c.grammar)if(o&&e.Worker){var f=new Worker(r.filename);f.onmessage=function(e){u(e.data)},f.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(r.highlight(c.code,c.grammar,c.language));else u(r.util.encode(c.code));else r.hooks.run("complete",c)},highlight:function(e,t,n){var a={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",a),a.tokens=r.tokenize(a.code,a.grammar),r.hooks.run("after-tokenize",a),o.stringify(r.util.encode(a.tokens),a.language)},matchGrammar:function(e,t,n,a,i,s,l){for(var c in n)if(n.hasOwnProperty(c)&&n[c]){if(c==l)return;var u=n[c];u="Array"===r.util.type(u)?u:[u];for(var f=0;f<u.length;++f){var d=u[f],p=d.inside,h=!!d.lookbehind,g=!!d.greedy,b=0,y=d.alias;if(g&&!d.pattern.global){var m=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,m+"g")}d=d.pattern||d;for(var v=a,x=i;v<t.length;x+=t[v].length,++v){var k=t[v];if(t.length>e.length)return;if(!(k instanceof o)){if(g&&v!=t.length-1){if(d.lastIndex=x,!(C=d.exec(e)))break;for(var w=C.index+(h?C[1].length:0),A=C.index+C[0].length,S=v,F=x,E=t.length;S<E&&(F<A||!t[S].type&&!t[S-1].greedy);++S)w>=(F+=t[S].length)&&(++v,x=F);if(t[v]instanceof o)continue;T=S-v,k=e.slice(x,F),C.index-=x}else{d.lastIndex=0;var C=d.exec(k),T=1}if(C){h&&(b=C[1]?C[1].length:0),A=(w=C.index+b)+(C=C[0].slice(b)).length;var O=k.slice(0,w),j=k.slice(A),_=[v,T];O&&(++v,x+=O.length,_.push(O));var P=new o(c,p?r.tokenize(C,p):C,y,C,g);if(_.push(P),j&&_.push(j),Array.prototype.splice.apply(t,_),1!=T&&r.matchGrammar(e,t,n,v,x,!0,c),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],o=t.rest;if(o){for(var a in o)t[a]=o[a];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:o};function o(e,t,n,r,o){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}if(e.Prism=r,o.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return o.stringify(n,t,e)})).join("");var a={type:e.type,content:o.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var i=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,i)}r.hooks.run("wrap",a);var s=Object.keys(a.attributes).map((function(e){return e+'="'+(a.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+(s?" "+s:"")+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,i=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),i&&e.close()}),!1),r):r;var a=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return a&&(r.filename=a.src,r.manual||a.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),void 0!==y&&(y.Prism=t),t.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",a)}}),t.languages.xml=t.languages.extend("markup",{}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}}}),t.languages.markup&&t.languages.markup.tag.addInlined("script","javascript"),t.languages.js=t.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var n={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach((function(e){if(!e.hasAttribute("data-src-loaded")){for(var r,o=e.getAttribute("data-src"),a=e,i=/\blang(?:uage)?-([\w-]+)\b/i;a&&!i.test(a.className);)a=a.parentNode;if(a&&(r=(e.className.match(i)||[,""])[1]),!r){var s=(o.match(/\.(\w+)$/)||[,""])[1];r=n[s]||s}var l=document.createElement("code");l.className="language-"+r,e.textContent="",l.textContent="Loading…",e.appendChild(l);var c=new XMLHttpRequest;c.open("GET",o,!0),c.onreadystatechange=function(){4==c.readyState&&(c.status<400&&c.responseText?(l.textContent=c.responseText,t.highlightElement(l),e.setAttribute("data-src-loaded","")):c.status>=400?l.textContent="✖ Error "+c.status+" while fetching file: "+c.statusText:l.textContent="✖ Error: File does not exist or is empty")},c.send(null)}})),t.plugins.toolbar&&t.plugins.toolbar.registerButton("download-file",(function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),r=document.createElement("a");return r.textContent=t.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))})),v=function(e,t){if(!e)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!t)throw Error("CodeFlask expects an object containing options as second parameter");if(e.nodeType)this.editorRoot=e;else{var n=document.querySelector(e);n&&(this.editorRoot=n)}this.opts=t,this.startEditor()};v.prototype.startEditor=function(){if(!h(p,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},v.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},v.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},v.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},v.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},v.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},v.prototype.createElement=function(e,t){var n=document.createElement(e);return t.appendChild(n),n},v.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&h("\n.codeflask {\n  background: #fff;\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n","theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},v.prototype.updateLineNumbersCount=function(){for(var e="",t=1;t<=this.lineNumber;t++)e=e+'<span class="codeflask__lines__line">'+t+"</span>";this.elLineNumbers.innerHTML=e},v.prototype.listenTextarea=function(){var e=this;this.elTextarea.addEventListener("input",(function(t){e.code=t.target.value,e.elCode.innerHTML=b(t.target.value),e.highlight(),setTimeout((function(){e.runUpdate(),e.setLineNumber()}),1)})),this.elTextarea.addEventListener("keydown",(function(t){e.handleTabs(t),e.handleSelfClosingCharacters(t),e.handleNewLineIndentation(t)})),this.elTextarea.addEventListener("scroll",(function(t){e.elPre.style.transform="translate3d(-"+t.target.scrollLeft+"px, -"+t.target.scrollTop+"px, 0)",e.elLineNumbers&&(e.elLineNumbers.style.transform="translate3d(0, -"+t.target.scrollTop+"px, 0)")}))},v.prototype.handleTabs=function(e){if(this.opts.handleTabs){if(9!==e.keyCode)return;e.preventDefault();var t=this.elTextarea,n=t.selectionDirection,r=t.selectionStart,o=t.selectionEnd,a=t.value,i=a.substr(0,r),s=a.substring(r,o),l=a.substring(o),c=" ".repeat(this.opts.tabSize);if(r!==o&&s.length>=c.length){var u=r-i.split("\n").pop().length,f=c.length,d=c.length;e.shiftKey?(a.substr(u,c.length)===c?(f=-f,u>r?(s=s.substring(0,u)+s.substring(u+c.length),d=0):u===r?(f=0,d=0,s=s.substring(c.length)):(d=-d,i=i.substring(0,u)+i.substring(u+c.length))):(f=0,d=0),s=s.replace(new RegExp("\n"+c.split("").join("\\"),"g"),"\n")):(i=i.substr(0,u)+c+i.substring(u,r),s=s.replace(/\n/g,"\n"+c)),t.value=i+s+l,t.selectionStart=r+f,t.selectionEnd=r+s.length+d,t.selectionDirection=n}else t.value=i+c+l,t.selectionStart=r+c.length,t.selectionEnd=r+c.length;var p=t.value;this.updateCode(p),this.elTextarea.selectionEnd=o+this.opts.tabSize}},v.prototype.handleSelfClosingCharacters=function(e){if(this.opts.handleSelfClosingCharacters){var t=e.key;if(["(","[","{","<","'",'"'].includes(t)||[")","]","}",">","'",'"'].includes(t))switch(t){case"(":case")":case"[":case"]":case"{":case"}":case"<":case">":case"'":case'"':this.closeCharacter(t)}}},v.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},v.prototype.handleNewLineIndentation=function(e){if(this.opts.handleNewLineIndentation&&13===e.keyCode){e.preventDefault();var t=this.elTextarea,n=t.selectionStart,r=t.selectionEnd,o=t.value,a=o.substr(0,n),i=o.substring(r),s=o.lastIndexOf("\n",n-1),l=s+o.slice(s+1).search(/[^ ]|$/),c=l>s?l-s:0,u=a+"\n"+" ".repeat(c)+i;t.value=u,t.selectionStart=n+c+1,t.selectionEnd=n+c+1,this.updateCode(t.value)}},v.prototype.closeCharacter=function(e){var t=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd;if(this.skipCloseChar(e)){var r=this.code.substr(n,1)===e,o=r?n+1:n,a=!r&&["'",'"'].includes(e)?e:"",i=""+this.code.substring(0,t)+a+this.code.substring(o);this.updateCode(i),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var s=e;switch(e){case"(":s=String.fromCharCode(e.charCodeAt()+1);break;case"<":case"{":case"[":s=String.fromCharCode(e.charCodeAt()+2)}var l=this.code.substring(t,n),c=""+this.code.substring(0,t)+l+s+this.code.substring(n);this.updateCode(c)}this.elTextarea.selectionEnd=t},v.prototype.skipCloseChar=function(e){var t=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd,r=Math.abs(n-t)>0;return[")","}","]",">"].includes(e)||["'",'"'].includes(e)&&!r},v.prototype.updateCode=function(e){this.code=e,this.elTextarea.value=e,this.elCode.innerHTML=b(e),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},v.prototype.updateLanguage=function(e){var t=this.opts.language;this.elCode.classList.remove("language-"+t),this.elCode.classList.add("language-"+e),this.opts.language=e,this.highlight()},v.prototype.addLanguage=function(e,t){m.languages[e]=t},v.prototype.populateDefault=function(){this.updateCode(this.code)},v.prototype.highlight=function(){m.highlightElement(this.elCode,!1)},v.prototype.onUpdate=function(e){if(e&&"[object Function]"!=={}.toString.call(e))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=e},v.prototype.getCode=function(){return this.code},v.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},v.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},v.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k=function(e){return e&&e.Math==Math&&e},w=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof x&&x)||function(){return this}()||Function("return this")(),A={},S=function(e){try{return!!e()}catch(e){return!0}},F=!S((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),E=Function.prototype.call,C=E.bind?E.bind(E):function(){return E.apply(E,arguments)},T={},O={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,_=j&&!O.call({1:2},1);T.f=_?function(e){var t=j(this,e);return!!t&&t.enumerable}:O;var P,L,N=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},I=Function.prototype,R=I.bind,M=I.call,z=R&&R.bind(M,M),$=R?function(e){return e&&z(e)}:function(e){return e&&function(){return M.apply(e,arguments)}},D=$,B=D({}.toString),W=D("".slice),U=function(e){return W(B(e),8,-1)},G=$,H=S,q=U,Z=w.Object,K=G("".split),V=H((function(){return!Z("z").propertyIsEnumerable(0)}))?function(e){return"String"==q(e)?K(e,""):Z(e)}:Z,Y=w.TypeError,X=function(e){if(null==e)throw Y("Can't call method on "+e);return e},J=V,Q=X,ee=function(e){return J(Q(e))},te=function(e){return"function"==typeof e},ne=te,re=function(e){return"object"==typeof e?null!==e:ne(e)},oe=w,ae=te,ie=function(e){return ae(e)?e:void 0},se=function(e,t){return arguments.length<2?ie(oe[e]):oe[e]&&oe[e][t]},le=$({}.isPrototypeOf),ce=w,ue=se("navigator","userAgent")||"",fe=ce.process,de=ce.Deno,pe=fe&&fe.versions||de&&de.version,he=pe&&pe.v8;he&&(L=(P=he.split("."))[0]>0&&P[0]<4?1:+(P[0]+P[1])),!L&&ue&&(!(P=ue.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=ue.match(/Chrome\/(\d+)/))&&(L=+P[1]);var ge=L,be=ge,ye=S,me=!!Object.getOwnPropertySymbols&&!ye((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&be&&be<41})),ve=me&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,xe=se,ke=te,we=le,Ae=ve,Se=w.Object,Fe=Ae?function(e){return"symbol"==typeof e}:function(e){var t=xe("Symbol");return ke(t)&&we(t.prototype,Se(e))},Ee=w.String,Ce=function(e){try{return Ee(e)}catch(e){return"Object"}},Te=te,Oe=Ce,je=w.TypeError,_e=function(e){if(Te(e))return e;throw je(Oe(e)+" is not a function")},Pe=function(e,t){var n=e[t];return null==n?void 0:_e(n)},Le=C,Ne=te,Ie=re,Re=w.TypeError,Me={exports:{}},ze=w,$e=Object.defineProperty,De=function(e,t){try{$e(ze,e,{value:t,configurable:!0,writable:!0})}catch(n){ze[e]=t}return t},Be=De,We="__core-js_shared__",Ue=w[We]||Be(We,{}),Ge=Ue;(Me.exports=function(e,t){return Ge[e]||(Ge[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.2",mode:"global",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"});var He=X,qe=w.Object,Ze=function(e){return qe(He(e))},Ke=Ze,Ve=$({}.hasOwnProperty),Ye=Object.hasOwn||function(e,t){return Ve(Ke(e),t)},Xe=$,Je=0,Qe=Math.random(),et=Xe(1..toString),tt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+et(++Je+Qe,36)},nt=w,rt=Me.exports,ot=Ye,at=tt,it=me,st=ve,lt=rt("wks"),ct=nt.Symbol,ut=ct&&ct.for,ft=st?ct:ct&&ct.withoutSetter||at,dt=function(e){if(!ot(lt,e)||!it&&"string"!=typeof lt[e]){var t="Symbol."+e;it&&ot(ct,e)?lt[e]=ct[e]:lt[e]=st&&ut?ut(t):ft(t)}return lt[e]},pt=C,ht=re,gt=Fe,bt=Pe,yt=function(e,t){var n,r;if("string"===t&&Ne(n=e.toString)&&!Ie(r=Le(n,e)))return r;if(Ne(n=e.valueOf)&&!Ie(r=Le(n,e)))return r;if("string"!==t&&Ne(n=e.toString)&&!Ie(r=Le(n,e)))return r;throw Re("Can't convert object to primitive value")},mt=dt,vt=w.TypeError,xt=mt("toPrimitive"),kt=function(e,t){if(!ht(e)||gt(e))return e;var n,r=bt(e,xt);if(r){if(void 0===t&&(t="default"),n=pt(r,e,t),!ht(n)||gt(n))return n;throw vt("Can't convert object to primitive value")}return void 0===t&&(t="number"),yt(e,t)},wt=Fe,At=function(e){var t=kt(e,"string");return wt(t)?t:t+""},St=re,Ft=w.document,Et=St(Ft)&&St(Ft.createElement),Ct=function(e){return Et?Ft.createElement(e):{}},Tt=Ct,Ot=!F&&!S((function(){return 7!=Object.defineProperty(Tt("div"),"a",{get:function(){return 7}}).a})),jt=F,_t=C,Pt=T,Lt=N,Nt=ee,It=At,Rt=Ye,Mt=Ot,zt=Object.getOwnPropertyDescriptor;A.f=jt?zt:function(e,t){if(e=Nt(e),t=It(t),Mt)try{return zt(e,t)}catch(e){}if(Rt(e,t))return Lt(!_t(Pt.f,e,t),e[t])};var $t={},Dt=F&&S((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Bt=w,Wt=re,Ut=Bt.String,Gt=Bt.TypeError,Ht=function(e){if(Wt(e))return e;throw Gt(Ut(e)+" is not an object")},qt=F,Zt=Ot,Kt=Dt,Vt=Ht,Yt=At,Xt=w.TypeError,Jt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,en="enumerable",tn="configurable",nn="writable";$t.f=qt?Kt?function(e,t,n){if(Vt(e),t=Yt(t),Vt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&nn in n&&!n.writable){var r=Qt(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:tn in n?n.configurable:r.configurable,enumerable:en in n?n.enumerable:r.enumerable,writable:!1})}return Jt(e,t,n)}:Jt:function(e,t,n){if(Vt(e),t=Yt(t),Vt(n),Zt)try{return Jt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Xt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var rn=$t,on=N,an=F?function(e,t,n){return rn.f(e,t,on(1,n))}:function(e,t,n){return e[t]=n,e},sn={exports:{}},ln=te,cn=Ue,un=$(Function.toString);ln(cn.inspectSource)||(cn.inspectSource=function(e){return un(e)});var fn,dn,pn,hn=cn.inspectSource,gn=te,bn=hn,yn=w.WeakMap,mn=gn(yn)&&/native code/.test(bn(yn)),vn=Me.exports,xn=tt,kn=vn("keys"),wn=function(e){return kn[e]||(kn[e]=xn(e))},An={},Sn=mn,Fn=w,En=$,Cn=re,Tn=an,On=Ye,jn=Ue,_n=wn,Pn=An,Ln="Object already initialized",Nn=Fn.TypeError,In=Fn.WeakMap;if(Sn||jn.state){var Rn=jn.state||(jn.state=new In),Mn=En(Rn.get),zn=En(Rn.has),$n=En(Rn.set);fn=function(e,t){if(zn(Rn,e))throw new Nn(Ln);return t.facade=e,$n(Rn,e,t),t},dn=function(e){return Mn(Rn,e)||{}},pn=function(e){return zn(Rn,e)}}else{var Dn=_n("state");Pn[Dn]=!0,fn=function(e,t){if(On(e,Dn))throw new Nn(Ln);return t.facade=e,Tn(e,Dn,t),t},dn=function(e){return On(e,Dn)?e[Dn]:{}},pn=function(e){return On(e,Dn)}}var Bn={set:fn,get:dn,has:pn,enforce:function(e){return pn(e)?dn(e):fn(e,{})},getterFor:function(e){return function(t){var n;if(!Cn(t)||(n=dn(t)).type!==e)throw Nn("Incompatible receiver, "+e+" required");return n}}},Wn=F,Un=Ye,Gn=Function.prototype,Hn=Wn&&Object.getOwnPropertyDescriptor,qn=Un(Gn,"name"),Zn=qn&&"something"===function(){}.name,Kn=qn&&(!Wn||Wn&&Hn(Gn,"name").configurable),Vn=w,Yn=te,Xn=Ye,Jn=an,Qn=De,er=hn,tr={EXISTS:qn,PROPER:Zn,CONFIGURABLE:Kn}.CONFIGURABLE,nr=Bn.get,rr=Bn.enforce,or=String(String).split("String");(sn.exports=function(e,t,n,r){var o,a=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,l=r&&void 0!==r.name?r.name:t;Yn(n)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Xn(n,"name")||tr&&n.name!==l)&&Jn(n,"name",l),(o=rr(n)).source||(o.source=or.join("string"==typeof l?l:""))),e!==Vn?(a?!s&&e[t]&&(i=!0):delete e[t],i?e[t]=n:Jn(e,t,n)):i?e[t]=n:Qn(t,n)})(Function.prototype,"toString",(function(){return Yn(this)&&nr(this).source||er(this)}));var ar={},ir=Math.ceil,sr=Math.floor,lr=function(e){var t=+e;return t!=t||0===t?0:(t>0?sr:ir)(t)},cr=lr,ur=Math.max,fr=Math.min,dr=function(e,t){var n=cr(e);return n<0?ur(n+t,0):fr(n,t)},pr=lr,hr=Math.min,gr=function(e){return e>0?hr(pr(e),9007199254740991):0},br=gr,yr=function(e){return br(e.length)},mr=ee,vr=dr,xr=yr,kr=function(e){return function(t,n,r){var o,a=mr(t),i=xr(a),s=vr(r,i);if(e&&n!=n){for(;i>s;)if((o=a[s++])!=o)return!0}else for(;i>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},wr={includes:kr(!0),indexOf:kr(!1)},Ar=Ye,Sr=ee,Fr=wr.indexOf,Er=An,Cr=$([].push),Tr=function(e,t){var n,r=Sr(e),o=0,a=[];for(n in r)!Ar(Er,n)&&Ar(r,n)&&Cr(a,n);for(;t.length>o;)Ar(r,n=t[o++])&&(~Fr(a,n)||Cr(a,n));return a},Or=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jr=Tr,_r=Or.concat("length","prototype");ar.f=Object.getOwnPropertyNames||function(e){return jr(e,_r)};var Pr={};Pr.f=Object.getOwnPropertySymbols;var Lr=se,Nr=ar,Ir=Pr,Rr=Ht,Mr=$([].concat),zr=Lr("Reflect","ownKeys")||function(e){var t=Nr.f(Rr(e)),n=Ir.f;return n?Mr(t,n(e)):t},$r=Ye,Dr=zr,Br=A,Wr=$t,Ur=S,Gr=te,Hr=/#|\.prototype\./,qr=function(e,t){var n=Kr[Zr(e)];return n==Yr||n!=Vr&&(Gr(t)?Ur(t):!!t)},Zr=qr.normalize=function(e){return String(e).replace(Hr,".").toLowerCase()},Kr=qr.data={},Vr=qr.NATIVE="N",Yr=qr.POLYFILL="P",Xr=qr,Jr=w,Qr=A.f,eo=an,to=sn.exports,no=De,ro=function(e,t,n){for(var r=Dr(t),o=Wr.f,a=Br.f,i=0;i<r.length;i++){var s=r[i];$r(e,s)||n&&$r(n,s)||o(e,s,a(t,s))}},oo=Xr,ao=function(e,t){var n,r,o,a,i,s=e.target,l=e.global,c=e.stat;if(n=l?Jr:c?Jr[s]||no(s,{}):(Jr[s]||{}).prototype)for(r in t){if(a=t[r],o=e.noTargetGet?(i=Qr(n,r))&&i.value:n[r],!oo(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;ro(a,o)}(e.sham||o&&o.sham)&&eo(a,"sham",!0),to(n,r,a,e)}},io=U,so=Array.isArray||function(e){return"Array"==io(e)},lo=At,co=$t,uo=N,fo=function(e,t,n){var r=lo(t);r in e?co.f(e,r,uo(0,n)):e[r]=n},po={};po[dt("toStringTag")]="z";var ho=w,go="[object z]"===String(po),bo=te,yo=U,mo=dt("toStringTag"),vo=ho.Object,xo="Arguments"==yo(function(){return arguments}()),ko=go?yo:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=vo(e),mo))?n:xo?yo(t):"Object"==(r=yo(t))&&bo(t.callee)?"Arguments":r},wo=$,Ao=S,So=te,Fo=ko,Eo=hn,Co=function(){},To=[],Oo=se("Reflect","construct"),jo=/^\s*(?:class|function)\b/,_o=wo(jo.exec),Po=!jo.exec(Co),Lo=function(e){if(!So(e))return!1;try{return Oo(Co,To,e),!0}catch(e){return!1}},No=function(e){if(!So(e))return!1;switch(Fo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Po||!!_o(jo,Eo(e))}catch(e){return!0}};No.sham=!0;var Io=!Oo||Ao((function(){var e;return Lo(Lo.call)||!Lo(Object)||!Lo((function(){e=!0}))||e}))?No:Lo,Ro=w,Mo=so,zo=Io,$o=re,Do=dt("species"),Bo=Ro.Array,Wo=function(e){var t;return Mo(e)&&(t=e.constructor,(zo(t)&&(t===Bo||Mo(t.prototype))||$o(t)&&null===(t=t[Do]))&&(t=void 0)),void 0===t?Bo:t},Uo=function(e,t){return new(Wo(e))(0===t?0:t)},Go=S,Ho=ge,qo=dt("species"),Zo=function(e){return Ho>=51||!Go((function(){var t=[];return(t.constructor={})[qo]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ko=ao,Vo=w,Yo=S,Xo=so,Jo=re,Qo=Ze,ea=yr,ta=fo,na=Uo,ra=Zo,oa=ge,aa=dt("isConcatSpreadable"),ia=9007199254740991,sa="Maximum allowed index exceeded",la=Vo.TypeError,ca=oa>=51||!Yo((function(){var e=[];return e[aa]=!1,e.concat()[0]!==e})),ua=ra("concat"),fa=function(e){if(!Jo(e))return!1;var t=e[aa];return void 0!==t?!!t:Xo(e)};Ko({target:"Array",proto:!0,forced:!ca||!ua},{concat:function(e){var t,n,r,o,a,i=Qo(this),s=na(i,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(fa(a=-1===t?i:arguments[t])){if(l+(o=ea(a))>ia)throw la(sa);for(n=0;n<o;n++,l++)n in a&&ta(s,l,a[n])}else{if(l>=ia)throw la(sa);ta(s,l++,a)}return s.length=l,s}});var da="#1d1f21",pa="\n.codeflask {\n  font-size: ".concat("13px",";\n  line-height ").concat("20px",";\n  background: ").concat(da,";\n  color: #61afef;\n}\n\n.codeflask .token.punctuation {\n  color: #ffffff;\n}\n\n.codeflask .token.keyword {\n  color: #c397d8;\n}\n\n.codeflask .token.operator {\n  color: #c397d8;\n}\n\n.codeflask .token.parameter {\n  color: #e78c45;\n}\n\n.codeflask .token.string {\n  color: #f0c674;\n}\n\n.codeflask .token.comment {\n  color: #74715e;\n  font-style: italic;\n}\n\n.codeflask .token.function {\n  color: #b9ca4a;\n}\n\n.codeflask .token.boolean {\n  color: orange;\n}\n\n.codeflask .token.number {\n  color: #e04164;\n}\n\n.codeflask .token.selector {\n  color: #b294bb;\n}\n\n.codeflask .token.property {\n  color: #b294bb;\n}\n\n.codeflask .token.tag {\n  color: #b294bb;\n}\n\n.codeflask .token.attr-value {\n  color: #b294bb;\n}\n\n.codeflask__textarea{\n  caret-color: whitesmoke !important;\n  color: ").concat(da," !important;\n}\n\n.codeflask__lines{\n  background: #444;\n  color: #aaa;\n}\n"),ha=function(e){o(a,e);var n=l(a);function a(){return t(this,a),n.apply(this,arguments)}return r(a,[{key:"html",get:function(){return'<div id="code-editor"></div>'}},{key:"css",get:function(){var e="\n      #code-editor{\n        width: 100%;\n        height: 100%;\n      }\n    ";!0===this.attrs.darkTheme&&(e+="".concat(pa));return e}},{key:"onAfterRender",value:function(){var e=new v(this.context.getElements("#code-editor")[0],{language:"js",lineNumbers:!0===this.attrs.lineNumbers,defaultTheme:!0!==this.attrs.darkTheme,readonly:!0===this.attrs.readOnly}),t=document.getElementById("codeflask-style");if(this.context.rootElement.appendChild(t.cloneNode(!0)),!0!==this.attrs.darkTheme){var n=document.getElementById("theme-default");this.context.rootElement.appendChild(n.cloneNode(!0))}this.setCustomEntity("editor",{flask:e,textarea:this.context.getElements("#code-editor > div > textarea")[0]})}}]),a}(e.BrowserClip),ga=ko,ba=w.String,ya=function(e){if("Symbol"===ga(e))throw TypeError("Cannot convert a Symbol value to a string");return ba(e)},ma=Ht,va=S,xa=w.RegExp,ka=va((function(){var e=xa("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),wa=ka||va((function(){return!xa("a","y").sticky})),Aa={BROKEN_CARET:ka||va((function(){var e=xa("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:wa,UNSUPPORTED_Y:ka},Sa={},Fa=Tr,Ea=Or,Ca=Object.keys||function(e){return Fa(e,Ea)},Ta=F,Oa=Dt,ja=$t,_a=Ht,Pa=ee,La=Ca;Sa.f=Ta&&!Oa?Object.defineProperties:function(e,t){_a(e);for(var n,r=Pa(t),o=La(t),a=o.length,i=0;a>i;)ja.f(e,n=o[i++],r[n]);return e};var Na,Ia=se("document","documentElement"),Ra=Ht,Ma=Sa,za=Or,$a=An,Da=Ia,Ba=Ct,Wa=wn("IE_PROTO"),Ua=function(){},Ga=function(e){return"<script>"+e+"</"+"script>"},Ha=function(e){e.write(Ga("")),e.close();var t=e.parentWindow.Object;return e=null,t},qa=function(){try{Na=new ActiveXObject("htmlfile")}catch(e){}var e,t;qa="undefined"!=typeof document?document.domain&&Na?Ha(Na):((t=Ba("iframe")).style.display="none",Da.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ga("document.F=Object")),e.close(),e.F):Ha(Na);for(var n=za.length;n--;)delete qa.prototype[za[n]];return qa()};$a[Wa]=!0;var Za,Ka,Va=Object.create||function(e,t){var n;return null!==e?(Ua.prototype=Ra(e),n=new Ua,Ua.prototype=null,n[Wa]=e):n=qa(),void 0===t?n:Ma.f(n,t)},Ya=S,Xa=w.RegExp,Ja=Ya((function(){var e=Xa(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Qa=S,ei=w.RegExp,ti=Qa((function(){var e=ei("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),ni=C,ri=$,oi=ya,ai=function(){var e=ma(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},ii=Aa,si=Me.exports,li=Va,ci=Bn.get,ui=Ja,fi=ti,di=si("native-string-replace",String.prototype.replace),pi=RegExp.prototype.exec,hi=pi,gi=ri("".charAt),bi=ri("".indexOf),yi=ri("".replace),mi=ri("".slice),vi=(Ka=/b*/g,ni(pi,Za=/a/,"a"),ni(pi,Ka,"a"),0!==Za.lastIndex||0!==Ka.lastIndex),xi=ii.BROKEN_CARET,ki=void 0!==/()??/.exec("")[1];(vi||ki||xi||ui||fi)&&(hi=function(e){var t,n,r,o,a,i,s,l=this,c=ci(l),u=oi(e),f=c.raw;if(f)return f.lastIndex=l.lastIndex,t=ni(hi,f,u),l.lastIndex=f.lastIndex,t;var d=c.groups,p=xi&&l.sticky,h=ni(ai,l),g=l.source,b=0,y=u;if(p&&(h=yi(h,"y",""),-1===bi(h,"g")&&(h+="g"),y=mi(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==gi(u,l.lastIndex-1))&&(g="(?: "+g+")",y=" "+y,b++),n=new RegExp("^(?:"+g+")",h)),ki&&(n=new RegExp("^"+g+"$(?!\\s)",h)),vi&&(r=l.lastIndex),o=ni(pi,p?n:l,y),p?o?(o.input=mi(o.input,b),o[0]=mi(o[0],b),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:vi&&o&&(l.lastIndex=l.global?o.index+o[0].length:r),ki&&o&&o.length>1&&ni(di,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&d)for(o.groups=i=li(null),a=0;a<d.length;a++)i[(s=d[a])[0]]=o[s[1]];return o});var wi=hi;ao({target:"RegExp",proto:!0,forced:/./.exec!==wi},{exec:wi});var Ai=Function.prototype,Si=Ai.apply,Fi=Ai.bind,Ei=Ai.call,Ci="object"==typeof Reflect&&Reflect.apply||(Fi?Ei.bind(Si):function(){return Ei.apply(Si,arguments)}),Ti=$,Oi=sn.exports,ji=wi,_i=S,Pi=dt,Li=an,Ni=Pi("species"),Ii=RegExp.prototype,Ri=re,Mi=U,zi=dt("match"),$i=Io,Di=Ce,Bi=w.TypeError,Wi=Ht,Ui=function(e){if($i(e))return e;throw Bi(Di(e)+" is not a constructor")},Gi=dt("species"),Hi=$,qi=lr,Zi=ya,Ki=X,Vi=Hi("".charAt),Yi=Hi("".charCodeAt),Xi=Hi("".slice),Ji=function(e){return function(t,n){var r,o,a=Zi(Ki(t)),i=qi(n),s=a.length;return i<0||i>=s?e?"":void 0:(r=Yi(a,i))<55296||r>56319||i+1===s||(o=Yi(a,i+1))<56320||o>57343?e?Vi(a,i):r:e?Xi(a,i,i+2):o-56320+(r-55296<<10)+65536}},Qi={codeAt:Ji(!1),charAt:Ji(!0)}.charAt,es=dr,ts=yr,ns=fo,rs=w.Array,os=Math.max,as=C,is=Ht,ss=te,ls=U,cs=wi,us=w.TypeError,fs=Ci,ds=C,ps=$,hs=function(e,t,n,r){var o=Pi(e),a=!_i((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),i=a&&!_i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Ni]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!i||n){var s=Ti(/./[o]),l=t(o,""[e],(function(e,t,n,r,o){var i=Ti(e),l=t.exec;return l===ji||l===Ii.exec?a&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:i(n,t,r)}:{done:!1}}));Oi(String.prototype,e,l[0]),Oi(Ii,o,l[1])}r&&Li(Ii[o],"sham",!0)},gs=function(e){var t;return Ri(e)&&(void 0!==(t=e[zi])?!!t:"RegExp"==Mi(e))},bs=Ht,ys=X,ms=function(e,t){var n,r=Wi(e).constructor;return void 0===r||null==(n=Wi(r)[Gi])?t:Ui(n)},vs=function(e,t,n){return t+(n?Qi(e,t).length:1)},xs=gr,ks=ya,ws=Pe,As=function(e,t,n){for(var r=ts(e),o=es(t,r),a=es(void 0===n?r:n,r),i=rs(os(a-o,0)),s=0;o<a;o++,s++)ns(i,s,e[o]);return i.length=s,i},Ss=function(e,t){var n=e.exec;if(ss(n)){var r=as(n,e,t);return null!==r&&is(r),r}if("RegExp"===ls(e))return as(cs,e,t);throw us("RegExp#exec called on incompatible receiver")},Fs=wi,Es=S,Cs=Aa.UNSUPPORTED_Y,Ts=4294967295,Os=Math.min,js=[].push,_s=ps(/./.exec),Ps=ps(js),Ls=ps("".slice),Ns=!Es((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));hs("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=ks(ys(this)),o=void 0===n?Ts:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!gs(e))return ds(t,r,e,o);for(var a,i,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,f=new RegExp(e.source,c+"g");(a=ds(Fs,f,r))&&!((i=f.lastIndex)>u&&(Ps(l,Ls(r,u,a.index)),a.length>1&&a.index<r.length&&fs(js,l,As(a,1)),s=a[0].length,u=i,l.length>=o));)f.lastIndex===a.index&&f.lastIndex++;return u===r.length?!s&&_s(f,"")||Ps(l,""):Ps(l,Ls(r,u)),l.length>o?As(l,0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:ds(t,this,e,n)}:t,[function(t,n){var o=ys(this),a=null==t?void 0:ws(t,e);return a?ds(a,t,o,n):ds(r,ks(o),t,n)},function(e,o){var a=bs(this),i=ks(e),s=n(r,a,i,o,r!==t);if(s.done)return s.value;var l=ms(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Cs?"g":"y"),f=new l(Cs?"^(?:"+a.source+")":a,u),d=void 0===o?Ts:o>>>0;if(0===d)return[];if(0===i.length)return null===Ss(f,i)?[i]:[];for(var p=0,h=0,g=[];h<i.length;){f.lastIndex=Cs?0:h;var b,y=Ss(f,Cs?Ls(i,h):i);if(null===y||(b=Os(xs(f.lastIndex+(Cs?h:0)),i.length))===p)h=vs(i,h,c);else{if(Ps(g,Ls(i,p,h)),g.length===d)return g;for(var m=1;m<=y.length-1;m++)if(Ps(g,y[m]),g.length===d)return g;h=p=b}}return Ps(g,Ls(i,p)),g}]}),!Ns,Cs);var Is=$([].slice),Rs=ao,Ms=w,zs=so,$s=Io,Ds=re,Bs=dr,Ws=yr,Us=ee,Gs=fo,Hs=dt,qs=Is,Zs=Zo("slice"),Ks=Hs("species"),Vs=Ms.Array,Ys=Math.max;Rs({target:"Array",proto:!0,forced:!Zs},{slice:function(e,t){var n,r,o,a=Us(this),i=Ws(a),s=Bs(e,i),l=Bs(void 0===t?i:t,i);if(zs(a)&&(n=a.constructor,($s(n)&&(n===Vs||zs(n.prototype))||Ds(n)&&null===(n=n[Ks]))&&(n=void 0),n===Vs||void 0===n))return qs(a,s,l);for(r=new(void 0===n?Vs:n)(Ys(l-s,0)),o=0;s<l;s++,o++)s in a&&Gs(r,o,a[s]);return r.length=o,r}});var Xs=ao,Js=w,Qs=dr,el=lr,tl=yr,nl=Ze,rl=Uo,ol=fo,al=Zo("splice"),il=Js.TypeError,sl=Math.max,ll=Math.min,cl=9007199254740991,ul="Maximum allowed length exceeded";Xs({target:"Array",proto:!0,forced:!al},{splice:function(e,t){var n,r,o,a,i,s,l=nl(this),c=tl(l),u=Qs(e,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-u):(n=f-2,r=ll(sl(el(t),0),c-u)),c+n-r>cl)throw il(ul);for(o=rl(l,r),a=0;a<r;a++)(i=u+a)in l&&ol(o,a,l[i]);if(o.length=r,n<r){for(a=u;a<c-r;a++)s=a+n,(i=a+r)in l?l[s]=l[i]:delete l[s];for(a=c;a>c-r+n;a--)delete l[a-1]}else if(n>r)for(a=c-r;a>u;a--)s=a+n-1,(i=a+r-1)in l?l[s]=l[i]:delete l[s];for(a=0;a<n;a++)l[a+u]=arguments[a+2];return l.length=c-r+n,o}});var fl=S,dl=ao,pl=V,hl=ee,gl=function(e,t){var n=[][e];return!!n&&fl((function(){n.call(null,t||function(){throw 1},1)}))},bl=$([].join),yl=pl!=Object,ml=gl("join",",");dl({target:"Array",proto:!0,forced:yl||!ml},{join:function(e){return bl(hl(this),void 0===e?",":e)}});var vl=function(e){o(a,e);var n=l(a);function a(){return t(this,a),n.apply(this,arguments)}return r(a,[{key:"onGetContext",value:function(){this.code=this.targetValue.split(/(?!\s+)/),this.latency=this.duration/this.code.length}},{key:"onProgress",value:function(e,t){var n,r=this.code.slice();n=1===e?r:t<this.latency?"":r.splice(0,Math.floor(r.length*e)),this.element.entity.flask.updateCode(n.join("")),this.element.entity.textarea.focus()}},{key:"getScratchValue",value:function(){return""}}]),a}(e.Effect);return{npm_name:"@donkeyclip/motorcortex-code-typing",version:"1.0.12",incidents:[{exportable:vl,name:"WriteCode",attributesValidationRules:{animatedAttrs:{type:"object",props:{code:"string"}}}}],Clip:{exportable:ha,attributesValidationRules:{darkTheme:{optional:!0,type:"boolean"},lineNumbers:{optional:!0,type:"boolean"},readOnly:{optional:!0,type:"boolean"}}}}}));
