!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@donkeyclip/motorcortex")):"function"==typeof define&&define.amd?define(["@donkeyclip/motorcortex"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@donkeyclip/motorcortex-code-typing"]=t(e.MotorCortex)}(this,(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var c="#fff";var u,f,d='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',p="\n  .codeflask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+(u="caret-color",f="#000",("undefined"!=typeof CSS?CSS.supports(u,f):"undefined"!=typeof document&&function(e){return(e=e.split("-").filter((function(e){return!!e})).map((function(e){return e[0].toUpperCase()+e.substr(1)})).join(""))[0].toLowerCase()+e.substr(1)}(u)in document.body.style)?c:"#ccc")+";\n    z-index: 1;\n    resize: none;\n    font-family: "+d+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - "+"40px);\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+d+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-size: 13px;\n    line-height: "+"20px;\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - "+"40px);\n    left: "+"40px;\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: "+"20px;\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: "+"20px;\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+"40px;\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: "+"40px;\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: "+"40px;\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n";function h(e,t,n){var r=t||"codeflask-style",o=n||document.head;if(!e)return!1;if(document.getElementById(r))return!0;var a=document.createElement("style");return a.innerHTML=e,a.id=r,o.appendChild(a),!0}var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function b(e){return String(e).replace(/[&<>"'`=/]/g,(function(e){return g[e]}))}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var m=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof o?new o(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a,i=r.util.type(t);switch(n=n||{},i){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],i={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);n.hasOwnProperty(s)||(i[s]=a[s])}var c=o[e];return o[e]=i,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=i)})),i},DFS:function e(t,n,o,a){a=a||{};var i=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],o||s);var l=t[s],c=r.util.type(l);"Object"!==c||a[i(l)]?"Array"!==c||a[i(l)]||(a[i(l)]=!0,e(l,n,s,a)):(a[i(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o);for(var a,i=o.elements||e.querySelectorAll(o.selector),s=0;a=i[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(n,o,a){for(var i,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(i=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[i]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+i,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+i));var c={element:n,language:i,grammar:s,code:n.textContent},u=function(e){c.highlightedCode=e,r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r.hooks.run("after-highlight",c),r.hooks.run("complete",c),a&&a.call(c.element)};if(r.hooks.run("before-sanity-check",c),c.code)if(r.hooks.run("before-highlight",c),c.grammar)if(o&&e.Worker){var f=new Worker(r.filename);f.onmessage=function(e){u(e.data)},f.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(r.highlight(c.code,c.grammar,c.language));else u(r.util.encode(c.code));else r.hooks.run("complete",c)},highlight:function(e,t,n){var a={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",a),a.tokens=r.tokenize(a.code,a.grammar),r.hooks.run("after-tokenize",a),o.stringify(r.util.encode(a.tokens),a.language)},matchGrammar:function(e,t,n,a,i,s,l){for(var c in n)if(n.hasOwnProperty(c)&&n[c]){if(c==l)return;var u=n[c];u="Array"===r.util.type(u)?u:[u];for(var f=0;f<u.length;++f){var d=u[f],p=d.inside,h=!!d.lookbehind,g=!!d.greedy,b=0,y=d.alias;if(g&&!d.pattern.global){var m=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,m+"g")}d=d.pattern||d;for(var v=a,x=i;v<t.length;x+=t[v].length,++v){var k=t[v];if(t.length>e.length)return;if(!(k instanceof o)){if(g&&v!=t.length-1){if(d.lastIndex=x,!(C=d.exec(e)))break;for(var w=C.index+(h?C[1].length:0),A=C.index+C[0].length,S=v,F=x,E=t.length;S<E&&(F<A||!t[S].type&&!t[S-1].greedy);++S)w>=(F+=t[S].length)&&(++v,x=F);if(t[v]instanceof o)continue;T=S-v,k=e.slice(x,F),C.index-=x}else{d.lastIndex=0;var C=d.exec(k),T=1}if(C){h&&(b=C[1]?C[1].length:0),A=(w=C.index+b)+(C=C[0].slice(b)).length;var j=k.slice(0,w),O=k.slice(A),_=[v,T];j&&(++v,x+=j.length,_.push(j));var P=new o(c,p?r.tokenize(C,p):C,y,C,g);if(_.push(P),O&&_.push(O),Array.prototype.splice.apply(t,_),1!=T&&r.matchGrammar(e,t,n,v,x,!0,c),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],o=t.rest;if(o){for(var a in o)t[a]=o[a];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:o};function o(e,t,n,r,o){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}if(e.Prism=r,o.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return o.stringify(n,t,e)})).join("");var a={type:e.type,content:o.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var i=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,i)}r.hooks.run("wrap",a);var s=Object.keys(a.attributes).map((function(e){return e+'="'+(a.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+(s?" "+s:"")+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,i=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),i&&e.close()}),!1),r):r;var a=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return a&&(r.filename=a.src,r.manual||a.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),void 0!==y&&(y.Prism=t),t.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",a)}}),t.languages.xml=t.languages.extend("markup",{}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+t.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}}}),t.languages.markup&&t.languages.markup.tag.addInlined("script","javascript"),t.languages.js=t.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var n={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach((function(e){if(!e.hasAttribute("data-src-loaded")){for(var r,o=e.getAttribute("data-src"),a=e,i=/\blang(?:uage)?-([\w-]+)\b/i;a&&!i.test(a.className);)a=a.parentNode;if(a&&(r=(e.className.match(i)||[,""])[1]),!r){var s=(o.match(/\.(\w+)$/)||[,""])[1];r=n[s]||s}var l=document.createElement("code");l.className="language-"+r,e.textContent="",l.textContent="Loading…",e.appendChild(l);var c=new XMLHttpRequest;c.open("GET",o,!0),c.onreadystatechange=function(){4==c.readyState&&(c.status<400&&c.responseText?(l.textContent=c.responseText,t.highlightElement(l),e.setAttribute("data-src-loaded","")):c.status>=400?l.textContent="✖ Error "+c.status+" while fetching file: "+c.statusText:l.textContent="✖ Error: File does not exist or is empty")},c.send(null)}})),t.plugins.toolbar&&t.plugins.toolbar.registerButton("download-file",(function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),r=document.createElement("a");return r.textContent=t.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))})),v=function(e,t){if(!e)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!t)throw Error("CodeFlask expects an object containing options as second parameter");if(e.nodeType)this.editorRoot=e;else{var n=document.querySelector(e);n&&(this.editorRoot=n)}this.opts=t,this.startEditor()};v.prototype.startEditor=function(){if(!h(p,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},v.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},v.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},v.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},v.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},v.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},v.prototype.createElement=function(e,t){var n=document.createElement(e);return t.appendChild(n),n},v.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&h("\n.codeflask {\n  background: #fff;\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n","theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},v.prototype.updateLineNumbersCount=function(){for(var e="",t=1;t<=this.lineNumber;t++)e=e+'<span class="codeflask__lines__line">'+t+"</span>";this.elLineNumbers.innerHTML=e},v.prototype.listenTextarea=function(){var e=this;this.elTextarea.addEventListener("input",(function(t){e.code=t.target.value,e.elCode.innerHTML=b(t.target.value),e.highlight(),setTimeout((function(){e.runUpdate(),e.setLineNumber()}),1)})),this.elTextarea.addEventListener("keydown",(function(t){e.handleTabs(t),e.handleSelfClosingCharacters(t),e.handleNewLineIndentation(t)})),this.elTextarea.addEventListener("scroll",(function(t){e.elPre.style.transform="translate3d(-"+t.target.scrollLeft+"px, -"+t.target.scrollTop+"px, 0)",e.elLineNumbers&&(e.elLineNumbers.style.transform="translate3d(0, -"+t.target.scrollTop+"px, 0)")}))},v.prototype.handleTabs=function(e){if(this.opts.handleTabs){if(9!==e.keyCode)return;e.preventDefault();var t=this.elTextarea,n=t.selectionDirection,r=t.selectionStart,o=t.selectionEnd,a=t.value,i=a.substr(0,r),s=a.substring(r,o),l=a.substring(o),c=" ".repeat(this.opts.tabSize);if(r!==o&&s.length>=c.length){var u=r-i.split("\n").pop().length,f=c.length,d=c.length;e.shiftKey?(a.substr(u,c.length)===c?(f=-f,u>r?(s=s.substring(0,u)+s.substring(u+c.length),d=0):u===r?(f=0,d=0,s=s.substring(c.length)):(d=-d,i=i.substring(0,u)+i.substring(u+c.length))):(f=0,d=0),s=s.replace(new RegExp("\n"+c.split("").join("\\"),"g"),"\n")):(i=i.substr(0,u)+c+i.substring(u,r),s=s.replace(/\n/g,"\n"+c)),t.value=i+s+l,t.selectionStart=r+f,t.selectionEnd=r+s.length+d,t.selectionDirection=n}else t.value=i+c+l,t.selectionStart=r+c.length,t.selectionEnd=r+c.length;var p=t.value;this.updateCode(p),this.elTextarea.selectionEnd=o+this.opts.tabSize}},v.prototype.handleSelfClosingCharacters=function(e){if(this.opts.handleSelfClosingCharacters){var t=e.key;if(["(","[","{","<","'",'"'].includes(t)||[")","]","}",">","'",'"'].includes(t))switch(t){case"(":case")":case"[":case"]":case"{":case"}":case"<":case">":case"'":case'"':this.closeCharacter(t)}}},v.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},v.prototype.handleNewLineIndentation=function(e){if(this.opts.handleNewLineIndentation&&13===e.keyCode){e.preventDefault();var t=this.elTextarea,n=t.selectionStart,r=t.selectionEnd,o=t.value,a=o.substr(0,n),i=o.substring(r),s=o.lastIndexOf("\n",n-1),l=s+o.slice(s+1).search(/[^ ]|$/),c=l>s?l-s:0,u=a+"\n"+" ".repeat(c)+i;t.value=u,t.selectionStart=n+c+1,t.selectionEnd=n+c+1,this.updateCode(t.value)}},v.prototype.closeCharacter=function(e){var t=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd;if(this.skipCloseChar(e)){var r=this.code.substr(n,1)===e,o=r?n+1:n,a=!r&&["'",'"'].includes(e)?e:"",i=""+this.code.substring(0,t)+a+this.code.substring(o);this.updateCode(i),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var s=e;switch(e){case"(":s=String.fromCharCode(e.charCodeAt()+1);break;case"<":case"{":case"[":s=String.fromCharCode(e.charCodeAt()+2)}var l=this.code.substring(t,n),c=""+this.code.substring(0,t)+l+s+this.code.substring(n);this.updateCode(c)}this.elTextarea.selectionEnd=t},v.prototype.skipCloseChar=function(e){var t=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd,r=Math.abs(n-t)>0;return[")","}","]",">"].includes(e)||["'",'"'].includes(e)&&!r},v.prototype.updateCode=function(e){this.code=e,this.elTextarea.value=e,this.elCode.innerHTML=b(e),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},v.prototype.updateLanguage=function(e){var t=this.opts.language;this.elCode.classList.remove("language-"+t),this.elCode.classList.add("language-"+e),this.opts.language=e,this.highlight()},v.prototype.addLanguage=function(e,t){m.languages[e]=t},v.prototype.populateDefault=function(){this.updateCode(this.code)},v.prototype.highlight=function(){m.highlightElement(this.elCode,!1)},v.prototype.onUpdate=function(e){if(e&&"[object Function]"!=={}.toString.call(e))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=e},v.prototype.getCode=function(){return this.code},v.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},v.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},v.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k=function(e){return e&&e.Math==Math&&e},w=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof x&&x)||function(){return this}()||Function("return this")(),A={},S=function(e){try{return!!e()}catch(e){return!0}},F=!S((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),E=Function.prototype.call,C=E.bind?E.bind(E):function(){return E.apply(E,arguments)},T={},j={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,_=O&&!j.call({1:2},1);T.f=_?function(e){var t=O(this,e);return!!t&&t.enumerable}:j;var P,L,N=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},I=Function.prototype,R=I.bind,M=I.call,z=R&&R.bind(M),$=R?function(e){return e&&z(M,e)}:function(e){return e&&function(){return M.apply(e,arguments)}},D=$,B=D({}.toString),W=D("".slice),U=function(e){return W(B(e),8,-1)},G=$,H=S,q=U,Z=w.Object,K=G("".split),V=H((function(){return!Z("z").propertyIsEnumerable(0)}))?function(e){return"String"==q(e)?K(e,""):Z(e)}:Z,Y=w.TypeError,X=function(e){if(null==e)throw Y("Can't call method on "+e);return e},J=V,Q=X,ee=function(e){return J(Q(e))},te=function(e){return"function"==typeof e},ne=te,re=function(e){return"object"==typeof e?null!==e:ne(e)},oe=w,ae=te,ie=function(e){return ae(e)?e:void 0},se=function(e,t){return arguments.length<2?ie(oe[e]):oe[e]&&oe[e][t]},le=$({}.isPrototypeOf),ce=w,ue=se("navigator","userAgent")||"",fe=ce.process,de=ce.Deno,pe=fe&&fe.versions||de&&de.version,he=pe&&pe.v8;he&&(L=(P=he.split("."))[0]>0&&P[0]<4?1:+(P[0]+P[1])),!L&&ue&&(!(P=ue.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=ue.match(/Chrome\/(\d+)/))&&(L=+P[1]);var ge=L,be=ge,ye=S,me=!!Object.getOwnPropertySymbols&&!ye((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&be&&be<41})),ve=me&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,xe=se,ke=te,we=le,Ae=ve,Se=w.Object,Fe=Ae?function(e){return"symbol"==typeof e}:function(e){var t=xe("Symbol");return ke(t)&&we(t.prototype,Se(e))},Ee=w.String,Ce=function(e){try{return Ee(e)}catch(e){return"Object"}},Te=te,je=Ce,Oe=w.TypeError,_e=function(e){if(Te(e))return e;throw Oe(je(e)+" is not a function")},Pe=function(e,t){var n=e[t];return null==n?void 0:_e(n)},Le=C,Ne=te,Ie=re,Re=w.TypeError,Me={exports:{}},ze=w,$e=Object.defineProperty,De=function(e,t){try{$e(ze,e,{value:t,configurable:!0,writable:!0})}catch(n){ze[e]=t}return t},Be=De,We="__core-js_shared__",Ue=w[We]||Be(We,{}),Ge=Ue;(Me.exports=function(e,t){return Ge[e]||(Ge[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var He=X,qe=w.Object,Ze=function(e){return qe(He(e))},Ke=Ze,Ve=$({}.hasOwnProperty),Ye=Object.hasOwn||function(e,t){return Ve(Ke(e),t)},Xe=$,Je=0,Qe=Math.random(),et=Xe(1..toString),tt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+et(++Je+Qe,36)},nt=w,rt=Me.exports,ot=Ye,at=tt,it=me,st=ve,lt=rt("wks"),ct=nt.Symbol,ut=ct&&ct.for,ft=st?ct:ct&&ct.withoutSetter||at,dt=function(e){if(!ot(lt,e)||!it&&"string"!=typeof lt[e]){var t="Symbol."+e;it&&ot(ct,e)?lt[e]=ct[e]:lt[e]=st&&ut?ut(t):ft(t)}return lt[e]},pt=C,ht=re,gt=Fe,bt=Pe,yt=function(e,t){var n,r;if("string"===t&&Ne(n=e.toString)&&!Ie(r=Le(n,e)))return r;if(Ne(n=e.valueOf)&&!Ie(r=Le(n,e)))return r;if("string"!==t&&Ne(n=e.toString)&&!Ie(r=Le(n,e)))return r;throw Re("Can't convert object to primitive value")},mt=dt,vt=w.TypeError,xt=mt("toPrimitive"),kt=function(e,t){if(!ht(e)||gt(e))return e;var n,r=bt(e,xt);if(r){if(void 0===t&&(t="default"),n=pt(r,e,t),!ht(n)||gt(n))return n;throw vt("Can't convert object to primitive value")}return void 0===t&&(t="number"),yt(e,t)},wt=Fe,At=function(e){var t=kt(e,"string");return wt(t)?t:t+""},St=re,Ft=w.document,Et=St(Ft)&&St(Ft.createElement),Ct=function(e){return Et?Ft.createElement(e):{}},Tt=Ct,jt=!F&&!S((function(){return 7!=Object.defineProperty(Tt("div"),"a",{get:function(){return 7}}).a})),Ot=F,_t=C,Pt=T,Lt=N,Nt=ee,It=At,Rt=Ye,Mt=jt,zt=Object.getOwnPropertyDescriptor;A.f=Ot?zt:function(e,t){if(e=Nt(e),t=It(t),Mt)try{return zt(e,t)}catch(e){}if(Rt(e,t))return Lt(!_t(Pt.f,e,t),e[t])};var $t={},Dt=w,Bt=re,Wt=Dt.String,Ut=Dt.TypeError,Gt=function(e){if(Bt(e))return e;throw Ut(Wt(e)+" is not an object")},Ht=F,qt=jt,Zt=Gt,Kt=At,Vt=w.TypeError,Yt=Object.defineProperty;$t.f=Ht?Yt:function(e,t,n){if(Zt(e),t=Kt(t),Zt(n),qt)try{return Yt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Vt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Xt=$t,Jt=N,Qt=F?function(e,t,n){return Xt.f(e,t,Jt(1,n))}:function(e,t,n){return e[t]=n,e},en={exports:{}},tn=te,nn=Ue,rn=$(Function.toString);tn(nn.inspectSource)||(nn.inspectSource=function(e){return rn(e)});var on,an,sn,ln=nn.inspectSource,cn=te,un=ln,fn=w.WeakMap,dn=cn(fn)&&/native code/.test(un(fn)),pn=Me.exports,hn=tt,gn=pn("keys"),bn=function(e){return gn[e]||(gn[e]=hn(e))},yn={},mn=dn,vn=w,xn=$,kn=re,wn=Qt,An=Ye,Sn=Ue,Fn=bn,En=yn,Cn="Object already initialized",Tn=vn.TypeError,jn=vn.WeakMap;if(mn||Sn.state){var On=Sn.state||(Sn.state=new jn),_n=xn(On.get),Pn=xn(On.has),Ln=xn(On.set);on=function(e,t){if(Pn(On,e))throw new Tn(Cn);return t.facade=e,Ln(On,e,t),t},an=function(e){return _n(On,e)||{}},sn=function(e){return Pn(On,e)}}else{var Nn=Fn("state");En[Nn]=!0,on=function(e,t){if(An(e,Nn))throw new Tn(Cn);return t.facade=e,wn(e,Nn,t),t},an=function(e){return An(e,Nn)?e[Nn]:{}},sn=function(e){return An(e,Nn)}}var In={set:on,get:an,has:sn,enforce:function(e){return sn(e)?an(e):on(e,{})},getterFor:function(e){return function(t){var n;if(!kn(t)||(n=an(t)).type!==e)throw Tn("Incompatible receiver, "+e+" required");return n}}},Rn=F,Mn=Ye,zn=Function.prototype,$n=Rn&&Object.getOwnPropertyDescriptor,Dn=Mn(zn,"name"),Bn=Dn&&"something"===function(){}.name,Wn=Dn&&(!Rn||Rn&&$n(zn,"name").configurable),Un=w,Gn=te,Hn=Ye,qn=Qt,Zn=De,Kn=ln,Vn={EXISTS:Dn,PROPER:Bn,CONFIGURABLE:Wn}.CONFIGURABLE,Yn=In.get,Xn=In.enforce,Jn=String(String).split("String");(en.exports=function(e,t,n,r){var o,a=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,l=r&&void 0!==r.name?r.name:t;Gn(n)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Hn(n,"name")||Vn&&n.name!==l)&&qn(n,"name",l),(o=Xn(n)).source||(o.source=Jn.join("string"==typeof l?l:""))),e!==Un?(a?!s&&e[t]&&(i=!0):delete e[t],i?e[t]=n:qn(e,t,n)):i?e[t]=n:Zn(t,n)})(Function.prototype,"toString",(function(){return Gn(this)&&Yn(this).source||Kn(this)}));var Qn={},er=Math.ceil,tr=Math.floor,nr=function(e){var t=+e;return t!=t||0===t?0:(t>0?tr:er)(t)},rr=nr,or=Math.max,ar=Math.min,ir=function(e,t){var n=rr(e);return n<0?or(n+t,0):ar(n,t)},sr=nr,lr=Math.min,cr=function(e){return e>0?lr(sr(e),9007199254740991):0},ur=cr,fr=function(e){return ur(e.length)},dr=ee,pr=ir,hr=fr,gr=function(e){return function(t,n,r){var o,a=dr(t),i=hr(a),s=pr(r,i);if(e&&n!=n){for(;i>s;)if((o=a[s++])!=o)return!0}else for(;i>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},br={includes:gr(!0),indexOf:gr(!1)},yr=Ye,mr=ee,vr=br.indexOf,xr=yn,kr=$([].push),wr=function(e,t){var n,r=mr(e),o=0,a=[];for(n in r)!yr(xr,n)&&yr(r,n)&&kr(a,n);for(;t.length>o;)yr(r,n=t[o++])&&(~vr(a,n)||kr(a,n));return a},Ar=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sr=wr,Fr=Ar.concat("length","prototype");Qn.f=Object.getOwnPropertyNames||function(e){return Sr(e,Fr)};var Er={};Er.f=Object.getOwnPropertySymbols;var Cr=se,Tr=Qn,jr=Er,Or=Gt,_r=$([].concat),Pr=Cr("Reflect","ownKeys")||function(e){var t=Tr.f(Or(e)),n=jr.f;return n?_r(t,n(e)):t},Lr=Ye,Nr=Pr,Ir=A,Rr=$t,Mr=S,zr=te,$r=/#|\.prototype\./,Dr=function(e,t){var n=Wr[Br(e)];return n==Gr||n!=Ur&&(zr(t)?Mr(t):!!t)},Br=Dr.normalize=function(e){return String(e).replace($r,".").toLowerCase()},Wr=Dr.data={},Ur=Dr.NATIVE="N",Gr=Dr.POLYFILL="P",Hr=Dr,qr=w,Zr=A.f,Kr=Qt,Vr=en.exports,Yr=De,Xr=function(e,t,n){for(var r=Nr(t),o=Rr.f,a=Ir.f,i=0;i<r.length;i++){var s=r[i];Lr(e,s)||n&&Lr(n,s)||o(e,s,a(t,s))}},Jr=Hr,Qr=function(e,t){var n,r,o,a,i,s=e.target,l=e.global,c=e.stat;if(n=l?qr:c?qr[s]||Yr(s,{}):(qr[s]||{}).prototype)for(r in t){if(a=t[r],o=e.noTargetGet?(i=Zr(n,r))&&i.value:n[r],!Jr(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;Xr(a,o)}(e.sham||o&&o.sham)&&Kr(a,"sham",!0),Vr(n,r,a,e)}},eo=U,to=Array.isArray||function(e){return"Array"==eo(e)},no=At,ro=$t,oo=N,ao=function(e,t,n){var r=no(t);r in e?ro.f(e,r,oo(0,n)):e[r]=n},io={};io[dt("toStringTag")]="z";var so=w,lo="[object z]"===String(io),co=te,uo=U,fo=dt("toStringTag"),po=so.Object,ho="Arguments"==uo(function(){return arguments}()),go=lo?uo:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=po(e),fo))?n:ho?uo(t):"Object"==(r=uo(t))&&co(t.callee)?"Arguments":r},bo=$,yo=S,mo=te,vo=go,xo=ln,ko=function(){},wo=[],Ao=se("Reflect","construct"),So=/^\s*(?:class|function)\b/,Fo=bo(So.exec),Eo=!So.exec(ko),Co=function(e){if(!mo(e))return!1;try{return Ao(ko,wo,e),!0}catch(e){return!1}},To=function(e){if(!mo(e))return!1;switch(vo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Eo||!!Fo(So,xo(e))}catch(e){return!0}};To.sham=!0;var jo=!Ao||yo((function(){var e;return Co(Co.call)||!Co(Object)||!Co((function(){e=!0}))||e}))?To:Co,Oo=w,_o=to,Po=jo,Lo=re,No=dt("species"),Io=Oo.Array,Ro=function(e){var t;return _o(e)&&(t=e.constructor,(Po(t)&&(t===Io||_o(t.prototype))||Lo(t)&&null===(t=t[No]))&&(t=void 0)),void 0===t?Io:t},Mo=function(e,t){return new(Ro(e))(0===t?0:t)},zo=S,$o=ge,Do=dt("species"),Bo=function(e){return $o>=51||!zo((function(){var t=[];return(t.constructor={})[Do]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Wo=Qr,Uo=w,Go=S,Ho=to,qo=re,Zo=Ze,Ko=fr,Vo=ao,Yo=Mo,Xo=Bo,Jo=ge,Qo=dt("isConcatSpreadable"),ea=9007199254740991,ta="Maximum allowed index exceeded",na=Uo.TypeError,ra=Jo>=51||!Go((function(){var e=[];return e[Qo]=!1,e.concat()[0]!==e})),oa=Xo("concat"),aa=function(e){if(!qo(e))return!1;var t=e[Qo];return void 0!==t?!!t:Ho(e)};Wo({target:"Array",proto:!0,forced:!ra||!oa},{concat:function(e){var t,n,r,o,a,i=Zo(this),s=Yo(i,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(aa(a=-1===t?i:arguments[t])){if(l+(o=Ko(a))>ea)throw na(ta);for(n=0;n<o;n++,l++)n in a&&Vo(s,l,a[n])}else{if(l>=ea)throw na(ta);Vo(s,l++,a)}return s.length=l,s}});var ia,sa="#1d1f21",la="\n.codeflask {\n  font-size: ".concat("13px",";\n  line-height ").concat("20px",";\n  background: ").concat(sa,";\n  color: #61afef;\n}\n\n.codeflask .token.punctuation {\n  color: #ffffff;\n}\n\n.codeflask .token.keyword {\n  color: #c397d8;\n}\n\n.codeflask .token.operator {\n  color: #c397d8;\n}\n\n.codeflask .token.parameter {\n  color: #e78c45;\n}\n\n.codeflask .token.string {\n  color: #f0c674;\n}\n\n.codeflask .token.comment {\n  color: #74715e;\n  font-style: italic;\n}\n\n.codeflask .token.function {\n  color: #b9ca4a;\n}\n\n.codeflask .token.boolean {\n  color: orange;\n}\n\n.codeflask .token.number {\n  color: #e04164;\n}\n\n.codeflask .token.selector {\n  color: #b294bb;\n}\n\n.codeflask .token.property {\n  color: #b294bb;\n}\n\n.codeflask .token.tag {\n  color: #b294bb;\n}\n\n.codeflask .token.attr-value {\n  color: #b294bb;\n}\n\n.codeflask__textarea{\n  caret-color: whitesmoke !important;\n  color: ").concat(sa," !important;\n}\n\n.codeflask__lines{\n  background: #444;\n  color: #aaa;\n}\n"),ca=function(e){o(a,e);var n=l(a);function a(){return t(this,a),n.apply(this,arguments)}return r(a,[{key:"html",get:function(){return'<div id="code-editor"></div>'}},{key:"css",get:function(){var e="\n      #code-editor{\n        width: 100%;\n        height: 100%;\n      }\n    ";!0===this.attrs.darkTheme&&(e+="".concat(la));return e}},{key:"onAfterRender",value:function(){var e=new v(this.context.getElements("#code-editor")[0],{language:"js",lineNumbers:!0===this.attrs.lineNumbers,defaultTheme:!0!==this.attrs.darkTheme,readonly:!0===this.attrs.readOnly}),t=document.getElementById("codeflask-style");if(this.context.rootElement.appendChild(t.cloneNode(!0)),!0!==this.attrs.darkTheme){var n=document.getElementById("theme-default");this.context.rootElement.appendChild(n.cloneNode(!0))}this.setCustomEntity("editor",{flask:e,textarea:this.context.getElements("#code-editor > div > textarea")[0]})}}]),a}(e.BrowserClip),ua=go,fa=w.String,da=function(e){if("Symbol"===ua(e))throw TypeError("Cannot convert a Symbol value to a string");return fa(e)},pa=Gt,ha=S,ga=w.RegExp,ba=ha((function(){var e=ga("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),ya=ba||ha((function(){return!ga("a","y").sticky})),ma={BROKEN_CARET:ba||ha((function(){var e=ga("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:ya,UNSUPPORTED_Y:ba},va=wr,xa=Ar,ka=Object.keys||function(e){return va(e,xa)},wa=$t,Aa=Gt,Sa=ee,Fa=ka,Ea=F?Object.defineProperties:function(e,t){Aa(e);for(var n,r=Sa(t),o=Fa(t),a=o.length,i=0;a>i;)wa.f(e,n=o[i++],r[n]);return e},Ca=se("document","documentElement"),Ta=Gt,ja=Ea,Oa=Ar,_a=yn,Pa=Ca,La=Ct,Na=bn("IE_PROTO"),Ia=function(){},Ra=function(e){return"<script>"+e+"</"+"script>"},Ma=function(e){e.write(Ra("")),e.close();var t=e.parentWindow.Object;return e=null,t},za=function(){try{ia=new ActiveXObject("htmlfile")}catch(e){}var e,t;za="undefined"!=typeof document?document.domain&&ia?Ma(ia):((t=La("iframe")).style.display="none",Pa.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ra("document.F=Object")),e.close(),e.F):Ma(ia);for(var n=Oa.length;n--;)delete za.prototype[Oa[n]];return za()};_a[Na]=!0;var $a,Da,Ba=Object.create||function(e,t){var n;return null!==e?(Ia.prototype=Ta(e),n=new Ia,Ia.prototype=null,n[Na]=e):n=za(),void 0===t?n:ja(n,t)},Wa=S,Ua=w.RegExp,Ga=Wa((function(){var e=Ua(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Ha=S,qa=w.RegExp,Za=Ha((function(){var e=qa("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Ka=C,Va=$,Ya=da,Xa=function(){var e=pa(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Ja=ma,Qa=Me.exports,ei=Ba,ti=In.get,ni=Ga,ri=Za,oi=Qa("native-string-replace",String.prototype.replace),ai=RegExp.prototype.exec,ii=ai,si=Va("".charAt),li=Va("".indexOf),ci=Va("".replace),ui=Va("".slice),fi=(Da=/b*/g,Ka(ai,$a=/a/,"a"),Ka(ai,Da,"a"),0!==$a.lastIndex||0!==Da.lastIndex),di=Ja.BROKEN_CARET,pi=void 0!==/()??/.exec("")[1];(fi||pi||di||ni||ri)&&(ii=function(e){var t,n,r,o,a,i,s,l=this,c=ti(l),u=Ya(e),f=c.raw;if(f)return f.lastIndex=l.lastIndex,t=Ka(ii,f,u),l.lastIndex=f.lastIndex,t;var d=c.groups,p=di&&l.sticky,h=Ka(Xa,l),g=l.source,b=0,y=u;if(p&&(h=ci(h,"y",""),-1===li(h,"g")&&(h+="g"),y=ui(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==si(u,l.lastIndex-1))&&(g="(?: "+g+")",y=" "+y,b++),n=new RegExp("^(?:"+g+")",h)),pi&&(n=new RegExp("^"+g+"$(?!\\s)",h)),fi&&(r=l.lastIndex),o=Ka(ai,p?n:l,y),p?o?(o.input=ui(o.input,b),o[0]=ui(o[0],b),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:fi&&o&&(l.lastIndex=l.global?o.index+o[0].length:r),pi&&o&&o.length>1&&Ka(oi,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&d)for(o.groups=i=ei(null),a=0;a<d.length;a++)i[(s=d[a])[0]]=o[s[1]];return o});var hi=ii;Qr({target:"RegExp",proto:!0,forced:/./.exec!==hi},{exec:hi});var gi=Function.prototype,bi=gi.apply,yi=gi.bind,mi=gi.call,vi="object"==typeof Reflect&&Reflect.apply||(yi?mi.bind(bi):function(){return mi.apply(bi,arguments)}),xi=$,ki=en.exports,wi=hi,Ai=S,Si=dt,Fi=Qt,Ei=Si("species"),Ci=RegExp.prototype,Ti=re,ji=U,Oi=dt("match"),_i=jo,Pi=Ce,Li=w.TypeError,Ni=Gt,Ii=function(e){if(_i(e))return e;throw Li(Pi(e)+" is not a constructor")},Ri=dt("species"),Mi=$,zi=nr,$i=da,Di=X,Bi=Mi("".charAt),Wi=Mi("".charCodeAt),Ui=Mi("".slice),Gi=function(e){return function(t,n){var r,o,a=$i(Di(t)),i=zi(n),s=a.length;return i<0||i>=s?e?"":void 0:(r=Wi(a,i))<55296||r>56319||i+1===s||(o=Wi(a,i+1))<56320||o>57343?e?Bi(a,i):r:e?Ui(a,i,i+2):o-56320+(r-55296<<10)+65536}},Hi={codeAt:Gi(!1),charAt:Gi(!0)}.charAt,qi=ir,Zi=fr,Ki=ao,Vi=w.Array,Yi=Math.max,Xi=C,Ji=Gt,Qi=te,es=U,ts=hi,ns=w.TypeError,rs=vi,os=C,as=$,is=function(e,t,n,r){var o=Si(e),a=!Ai((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),i=a&&!Ai((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Ei]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!i||n){var s=xi(/./[o]),l=t(o,""[e],(function(e,t,n,r,o){var i=xi(e),l=t.exec;return l===wi||l===Ci.exec?a&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:i(n,t,r)}:{done:!1}}));ki(String.prototype,e,l[0]),ki(Ci,o,l[1])}r&&Fi(Ci[o],"sham",!0)},ss=function(e){var t;return Ti(e)&&(void 0!==(t=e[Oi])?!!t:"RegExp"==ji(e))},ls=Gt,cs=X,us=function(e,t){var n,r=Ni(e).constructor;return void 0===r||null==(n=Ni(r)[Ri])?t:Ii(n)},fs=function(e,t,n){return t+(n?Hi(e,t).length:1)},ds=cr,ps=da,hs=Pe,gs=function(e,t,n){for(var r=Zi(e),o=qi(t,r),a=qi(void 0===n?r:n,r),i=Vi(Yi(a-o,0)),s=0;o<a;o++,s++)Ki(i,s,e[o]);return i.length=s,i},bs=function(e,t){var n=e.exec;if(Qi(n)){var r=Xi(n,e,t);return null!==r&&Ji(r),r}if("RegExp"===es(e))return Xi(ts,e,t);throw ns("RegExp#exec called on incompatible receiver")},ys=hi,ms=S,vs=ma.UNSUPPORTED_Y,xs=4294967295,ks=Math.min,ws=[].push,As=as(/./.exec),Ss=as(ws),Fs=as("".slice),Es=!ms((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));is("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=ps(cs(this)),o=void 0===n?xs:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!ss(e))return os(t,r,e,o);for(var a,i,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,f=new RegExp(e.source,c+"g");(a=os(ys,f,r))&&!((i=f.lastIndex)>u&&(Ss(l,Fs(r,u,a.index)),a.length>1&&a.index<r.length&&rs(ws,l,gs(a,1)),s=a[0].length,u=i,l.length>=o));)f.lastIndex===a.index&&f.lastIndex++;return u===r.length?!s&&As(f,"")||Ss(l,""):Ss(l,Fs(r,u)),l.length>o?gs(l,0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:os(t,this,e,n)}:t,[function(t,n){var o=cs(this),a=null==t?void 0:hs(t,e);return a?os(a,t,o,n):os(r,ps(o),t,n)},function(e,o){var a=ls(this),i=ps(e),s=n(r,a,i,o,r!==t);if(s.done)return s.value;var l=us(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(vs?"g":"y"),f=new l(vs?"^(?:"+a.source+")":a,u),d=void 0===o?xs:o>>>0;if(0===d)return[];if(0===i.length)return null===bs(f,i)?[i]:[];for(var p=0,h=0,g=[];h<i.length;){f.lastIndex=vs?0:h;var b,y=bs(f,vs?Fs(i,h):i);if(null===y||(b=ks(ds(f.lastIndex+(vs?h:0)),i.length))===p)h=fs(i,h,c);else{if(Ss(g,Fs(i,p,h)),g.length===d)return g;for(var m=1;m<=y.length-1;m++)if(Ss(g,y[m]),g.length===d)return g;h=p=b}}return Ss(g,Fs(i,p)),g}]}),!Es,vs);var Cs=$([].slice),Ts=Qr,js=w,Os=to,_s=jo,Ps=re,Ls=ir,Ns=fr,Is=ee,Rs=ao,Ms=dt,zs=Cs,$s=Bo("slice"),Ds=Ms("species"),Bs=js.Array,Ws=Math.max;Ts({target:"Array",proto:!0,forced:!$s},{slice:function(e,t){var n,r,o,a=Is(this),i=Ns(a),s=Ls(e,i),l=Ls(void 0===t?i:t,i);if(Os(a)&&(n=a.constructor,(_s(n)&&(n===Bs||Os(n.prototype))||Ps(n)&&null===(n=n[Ds]))&&(n=void 0),n===Bs||void 0===n))return zs(a,s,l);for(r=new(void 0===n?Bs:n)(Ws(l-s,0)),o=0;s<l;s++,o++)s in a&&Rs(r,o,a[s]);return r.length=o,r}});var Us=Qr,Gs=w,Hs=ir,qs=nr,Zs=fr,Ks=Ze,Vs=Mo,Ys=ao,Xs=Bo("splice"),Js=Gs.TypeError,Qs=Math.max,el=Math.min,tl=9007199254740991,nl="Maximum allowed length exceeded";Us({target:"Array",proto:!0,forced:!Xs},{splice:function(e,t){var n,r,o,a,i,s,l=Ks(this),c=Zs(l),u=Hs(e,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-u):(n=f-2,r=el(Qs(qs(t),0),c-u)),c+n-r>tl)throw Js(nl);for(o=Vs(l,r),a=0;a<r;a++)(i=u+a)in l&&Ys(o,a,l[i]);if(o.length=r,n<r){for(a=u;a<c-r;a++)s=a+n,(i=a+r)in l?l[s]=l[i]:delete l[s];for(a=c;a>c-r+n;a--)delete l[a-1]}else if(n>r)for(a=c-r;a>u;a--)s=a+n-1,(i=a+r-1)in l?l[s]=l[i]:delete l[s];for(a=0;a<n;a++)l[a+u]=arguments[a+2];return l.length=c-r+n,o}});var rl=S,ol=Qr,al=V,il=ee,sl=function(e,t){var n=[][e];return!!n&&rl((function(){n.call(null,t||function(){throw 1},1)}))},ll=$([].join),cl=al!=Object,ul=sl("join",",");ol({target:"Array",proto:!0,forced:cl||!ul},{join:function(e){return ll(il(this),void 0===e?",":e)}});var fl=function(e){o(a,e);var n=l(a);function a(){return t(this,a),n.apply(this,arguments)}return r(a,[{key:"onGetContext",value:function(){this.code=this.targetValue.split(/(?!\s+)/),this.latency=this.duration/this.code.length}},{key:"onProgress",value:function(e,t){var n,r=this.code.slice();n=1===e?r:t<this.latency?"":r.splice(0,Math.floor(r.length*e)),this.element.entity.flask.updateCode(n.join("")),this.element.entity.textarea.focus()}},{key:"getScratchValue",value:function(){return""}}]),a}(e.Effect);return{npm_name:"@donkeyclip/motorcortex-code-typing",version:"1.0.12",incidents:[{exportable:fl,name:"WriteCode",attributesValidationRules:{animatedAttrs:{type:"object",props:{code:"string"}}}}],Clip:{exportable:ca,attributesValidationRules:{darkTheme:{optional:!0,type:"boolean"},lineNumbers:{optional:!0,type:"boolean"},readOnly:{optional:!0,type:"boolean"}}}}}));
